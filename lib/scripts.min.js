function setHrefAndPopstates(_href) {
    return href = _href, href.indexOf(document.domain) > -1 || -1 === href.indexOf(":") ? (openOverlay(), historyPush(href), _gaq.push(["_trackPageview", _href]), !1) : void 0
}

function loadPage(isReference) {
    $.ajax({
        type: "GET",
        url: href,
        dataType: "html",
        success: function(html) {
            if (isReference) {
                var cont = $(html).find("#cont");
                $("#referenceCont").append(cont), $("#referenceCont #cont .top-section").remove(), $main = $("#referenceCont"), $("#referenceCont #cont").find(">:first-child").unwrap(), $("#cont").addClass("auto-height")
            } else {
                contentController.destroyContent();
                var cont = $(html).find("#cont");
                $("#cont").replaceWith(cont), $main = $("#cont")
            }
            $(window).scrollTop(0), document.title = html.match(/<title>(.*?)<\/title>/)[1], name = $(html).find("#cont").attr("class"), preload(isReference)
        },
        error: function(data) {
            console.log("CONTENT CONTROLLER - error ajax'ing HTML: " + data)
        }
    })
}

function preload(isReference) {
    var total_images = $main.find("img").length,
        images_loaded = 0;
    isReference ? preloader.referenceFadeIn() : preloader.pageChangePreload(), $("#cont").addClass("preloading"), $("footer").addClass("preloading"), total_images > 0 ? $main.find("img").each(function() {
        var fakeSrc = $(this).attr("src");
        $("<img/>").attr("src", fakeSrc).load(function() {
            images_loaded++, images_loaded >= total_images && (preloader.fadeOut(), initCont(isReference))
        })
    }) : (preloader.fadeOut(), initCont(isReference))
}

function initCont(isReference) {
    $("#cont").removeClass("preloading"), $("footer").removeClass("preloading");
    var cclass = name.split(" "),
        pos = getPosInContentArr(cclass[0]);
    contentController.initContent(cclass[0]), $("#main-menu li.active").removeClass("active"), isReference ? $(window).trigger("fadeInReference") : ($("#main-menu").find("li").eq(pos).addClass("active"), closeOverlay())
}


// When navigating to a new page do this :)

function openOverlay(newContId) {



    debugger

    var fadeSpeed = .75;
    contentController.checkBurgerOpen() ? (TweenMax.to($("#green-rect"), 1 * fadeSpeed, {
        attr: {
            points: "-20,0 100,0 100,100 0,100 "
        },
        ease: Power2.easeInOut
    }), TweenMax.to($("#green-overlay-wrapper"), 1.25 * fadeSpeed, {
        width: "100%",
        ease: Power2.easeInOut,
        delay: .25
    }), TweenMax.to($("#btn-burger-wrapper"), 1 * fadeSpeed, {
        x: "200",
        ease: Power2.easeInOut,
        delay: .25
    }), TweenMax.to($("nav"), 1 * fadeSpeed, {
        right: "35%",
        opacity: 0,
        ease: Power2.easeInOut,
        delay: .35,
        onComplete: function() {
            TweenMax.fromTo($("#preloader-overlay-wrapper"), .3, {
                opacity: "0",
                display: "none"
            }, {
                opacity: "1",
                display: "block",
                ease: Power2.easeInOut,
                onComplete: function() {
                    TweenMax.set($("#green-overlay-wrapper"), {
                        clearProps: "width"
                    }), TweenMax.set($("#btn-burger-wrapper"), {
                        clearProps: "x"
                    }), TweenMax.set($("nav"), {
                        clearProps: "opacity, right"
                    }), TweenMax.set($("#link-home"), {
                        clearProps: "margin-top"
                    }), contentController.closeBurger()
                }
            }), loadPage(!1)
        }
    })) : ($("#preloader-svg").css("opacity", 0), TweenMax.set($("#preloader-overlay-wrapper"), {
        opacity: 1,
        display: "block"
    }), TweenMax.fromTo($("#preloader-green-rect"), 1.35 * fadeSpeed, {
        attr: {
            points: "0,0 100,0 75,100 0,100 "
        }
    }, {
        attr: {
            points: "0,0 100,0 100,100 0,100 "
        },
        ease: Power2.easeInOut
    }), TweenMax.fromTo($("#preloader-overlay-wrapper"), 1.35 * fadeSpeed, {
        left: "-100%",
        display: "none"
    }, {
        left: "0%",
        display: "block",
        ease: Power2.easeInOut,
        onComplete: function() {
            TweenMax.set($("#link-home"), {
                clearProps: "margin-top"
            }), loadPage(!1)
        }
    }))
}

function closeOverlay() {
    var fadeSpeed = .75;
    setTimeout(function() {
        TweenMax.to($("#preloader-overlay-wrapper"), 1.35 * fadeSpeed, {
            left: "110%",
            ease: Power2.easeInOut,
            delay: .5 * fadeSpeed
        }), TweenMax.to($("#preloader-green-rect"), 1.35 * fadeSpeed, {
            attr: {
                points: "0,0 100,0 100,100 50,100 "
            },
            ease: Power2.easeInOut,
            onComplete: function() {
                setTimeout(function() {
                    TweenMax.set($("#preloader-green-rect"), {
                        attr: {
                            points: "0,0 100,0 100,100 0,100 "
                        }
                    }), TweenMax.set($("#preloader-overlay-wrapper"), {
                        opacity: 0,
                        display: "none",
                        left: 0
                    })
                }, 250)
            }
        })
    }, 250)
}

function triggerRecalcOffsets() {
    $(window).trigger("recalcOffsets")
}

function historyPush(href) {
    history.pushState({}, "", href)
}

function getPosInContentArr(_name) {
    for (var i in CONTENT_ARR)
        if (CONTENT_ARR[i].name == _name) return i
}

function googleMapsLoaded() {
    gMapsLoaded = !0, $.getScript("/js/gmap.min.js").done(function(script, textStatus) {
        initMap()
    })
}

function getBrowserPrefix() {
    if ("hidden" in document) return null;
    for (var browserPrefixes = ["moz", "ms", "o", "webkit"], i = 0; i < browserPrefixes.length; i++) {
        var browserPrefix = browserPrefixes[i] + "Hidden";
        if (browserPrefix in document) return browserPrefixes[i]
    }
    return null
}

function hiddenProperty(prefix) {
    return browserPrefix ? prefix + "Hidden" : "hidden"
}

function visibilityState(prefix) {
    return browserPrefix ? browserPrefix + "VisibilityState" : "visibilityState"
}

function visibilityEvent(prefix) {
    return browserPrefix ? browserPrefix + "visibilitychange" : "visibilitychange"
}

function convertVhToPx(val) {
    return $(window).height() * val / 100
}

function isTouch() {
    return Modernizr.touchevents
}

function detectIE() {
    var ua = window.navigator.userAgent,
        msie = ua.indexOf("MSIE ");
    if (msie > 0) return !0;
    var trident = ua.indexOf("Trident/");
    if (trident > 0) {
        ua.indexOf("rv:");
        return !0
    }
    var edge = ua.indexOf("Edge/");
    return edge > 0 ? !0 : !1
}
var $main, href, name;
$(document).on("click", "li.menu-item a", function(e) {
    return !$(this).parent().hasClass("language") && (e.preventDefault(), (!$(this).parent().hasClass("active") || $("#referenceCont").length > 0 || $(".referenzen").length > 0) && (href = $(this).attr("href"), href.indexOf(document.domain) > -1 || -1 === href.indexOf(":"))) ? (openOverlay(), setHrefAndPopstates($(this).attr("href")), !1) : void 0
}), $(document).on("click", ".referenz-overview-icon-wrapper.bottom a, .p404, .btn.more a, .arr-icon-wrapper.back.ref.in-project a, a#link-home, a#home-menu, a.card-link, a.prev-link, a.next-link, #footer .datenschutz, #footer .impressum", function(e) {
    var _href = $(this).attr("href"); - 1 == _href.indexOf("mailto:") && (e.preventDefault(), setHrefAndPopstates($(this).attr("href")))
}), $(window).bind("loadReference", function(event, url) {
    return href = url, href.indexOf(document.domain) > -1 || -1 === href.indexOf(":") ? (loadPage(!0), historyPush(href), _gaq.push(["_trackPageview", href]), !1) : void 0
}), $(window).on("popstate", function(e) {
    null !== e.originalEvent.state && (popstateCounter++, href = location.href, openOverlay(), _gaq.push(["_trackPageview", href]))
});
var popstateCounter = 0,
    popHrefs = [];
! function($) {
    $.contentController = function(el, options) {
        var defaults = {
                activeId: 0,
                arrIcon: null,
                backArrIcon: null,
                btnMore: null,
                introScroll: null,
                btnBurger: null,
                menuArr: null,
                home_slideshow: null,
                aniOnScroll: null,
                paraHeader: null,
                slideshow: null,
                portrait: null,
                sliderArr: null,
                slider: null
            },
            plugin = this;
        plugin.settings = {};
        var s, init = function() {
                plugin.settings = $.extend({}, defaults, options), s = plugin.settings
            },
            destroyPlugins = function(items) {
                for (var i = 0; i < items.length; i++)
                    for (var item = items[i], j = 0; j < item.length; j++) item[j].destroyPlugin(), item[j] = null
            },
            initPlugins = function(items) {
                for (var i = 0; i < items.length; i++) {
                    var item = items[i],
                        el = item.el,
                        plugin = item.plugin;
                    s[plugin] = [], el.each(function(i) {
                        s[plugin][i] = new $[plugin]($(this)), s[plugin][i].initPlugin()
                    })
                }
            };
        plugin.changeContent = function(newContId) {
            destroyContent(), plugin.initContent(newContId)
        }, plugin.destroyContent = function() {
            "home" === s.activeId ? destroyPlugins([s.arrIcon, s.backArrIcon, s.btnMore, s.home_slideshow, s.introScroll, s.referenzenOverviewSliderArr, s.mobileRef]) : "agentur" === s.activeId ? destroyPlugins([s.arrIcon, s.btnMore, s.aniOnScroll, s.paraHeader, s.portrait]) : "arbeitsweise" === s.activeId ? destroyPlugins([s.arrIcon, s.btnMore, s.aniOnScroll, s.paraHeader, s.slideshow, s.arbeitsweiseProcess]) : "referenzen" === s.activeId ? destroyPlugins([s.referenzenOverviewSliderArr, s.referenzenOverviewSlider, s.mobileRef, s.refBackArr]) : "kontakt" === s.activeId ? destroyPlugins([s.arrIcon, s.btnMore, s.aniOnScroll, s.paraHeader, s.kontaktMap]) : "datenschutz" === s.activeId || "impressum" === s.activeId ? destroyPlugins([s.paraHeader]) : "mercedes-benz" === s.activeId ? destroyPlugins([s.btnMore, s.aniOnScroll, s.paraHeader, s.iphoneScreens, s.refSlideshow, s.miniArrIcon, s.referenzIcon, s.refBackArr]) : "bruno-triplet" === s.activeId ? destroyPlugins([s.btnMore, s.aniOnScroll, s.paraHeader, s.refSlideshow, s.miniArrIcon, s.referenzIcon, s.iphoneColor, s.refBackArr]) : "ladage-oelke" === s.activeId ? destroyPlugins([s.btnMore, s.aniOnScroll, s.paraHeader, s.refSlideshow, s.miniArrIcon, s.referenzIcon, s.imgClusterControl, s.teaserControl, s.refBackArr]) : "eha" === s.activeId ? destroyPlugins([s.btnMore, s.aniOnScroll, s.paraHeader, s.refSlideshow, s.miniArrIcon, s.referenzIcon, s.iphoneScreens, s.refBackArr]) : "hotel-wedina" === s.activeId ? destroyPlugins([s.btnMore, s.aniOnScroll, s.paraHeader, s.refSlideshow, s.miniArrIcon, s.referenzIcon, s.refBackArr]) : "neo-live" === s.activeId && destroyPlugins([s.btnMore, s.aniOnScroll, s.paraHeader, s.refSlideshow, s.miniArrIcon, s.referenzIcon, s.refBackArr])
        }, plugin.initContent = function(newContId) {
            s.activeId = newContId, "home" == newContId ? $("body").addClass("black") : $("body").removeClass("black"), "referenzen" === s.activeId ? $("#footer").hide() : $("#footer").show(), "home" === s.activeId ? initPlugins([{
                el: $(".arr-icon-wrapper").not(".small").not(".menu").not(".slider"),
                plugin: "arrIcon"
            }, {
                el: $(".arr-icon-wrapper.small").not(".menu"),
                plugin: "backArrIcon"
            }, {
                el: $(".btn.more"),
                plugin: "btnMore"
            }, {
                el: $(".home-slideshow"),
                plugin: "home_slideshow"
            }, {
                el: $("body"),
                plugin: "introScroll"
            }, {
                el: $(".arr-icon-wrapper.slider"),
                plugin: "referenzenOverviewSliderArr"
            }, {
                el: $("#mobile-referenzen"),
                plugin: "mobileRef"
            }]) : "agentur" === s.activeId ? initPlugins([{
                el: $(".arr-icon-wrapper").not(".small").not(".menu"),
                plugin: "arrIcon"
            }, {
                el: $(".btn.more"),
                plugin: "btnMore"
            }, {
                el: $("#cont"),
                plugin: "aniOnScroll"
            }, {
                el: $(".top-section"),
                plugin: "paraHeader"
            }, {
                el: $(".portrait-img"),
                plugin: "portrait"
            }]) : "arbeitsweise" === s.activeId ? initPlugins([{
                el: $(".arr-icon-wrapper").not(".small").not(".menu"),
                plugin: "arrIcon"
            }, {
                el: $(".btn.more"),
                plugin: "btnMore"
            }, {
                el: $("#cont"),
                plugin: "aniOnScroll"
            }, {
                el: $(".top-section"),
                plugin: "paraHeader"
            }, {
                el: $(".slideshow"),
                plugin: "slideshow"
            }, {
                el: $("#ipad"),
                plugin: "iPadLayer"
            }, {
                el: $("#arbeitsweise-process"),
                plugin: "arbeitsweiseProcess"
            }]) : "referenzen" === s.activeId ? initPlugins([{
                el: $(".arr-icon-wrapper.ref.back"),
                plugin: "refBackArr"
            }, {
                el: $(".arr-icon-wrapper.slider"),
                plugin: "referenzenOverviewSliderArr"
            }, {
                el: $("#referenzenSlider"),
                plugin: "referenzenOverviewSlider"
            }, {
                el: $("#mobile-referenzen"),
                plugin: "mobileRef"
            }]) : "kontakt" === s.activeId ? initPlugins([{
                el: $(".arr-icon-wrapper").not(".small").not(".menu"),
                plugin: "arrIcon"
            }, {
                el: $(".btn.more"),
                plugin: "btnMore"
            }, {
                el: $("#cont"),
                plugin: "aniOnScroll"
            }, {
                el: $(".top-section"),
                plugin: "paraHeader"
            }, {
                el: $("#cnvy_gmap"),
                plugin: "kontaktMap"
            }, {
                el: $("#newsletter"),
                plugin: "newsletter"
            }]) : "datenschutz" === s.activeId || "impressum" === s.activeId ? initPlugins([{
                el: $(".top-section"),
                plugin: "paraHeader"
            }]) : "mercedes-benz" === s.activeId ? initPlugins([{
                el: $(".btn.more"),
                plugin: "btnMore"
            }, {
                el: $("#cont"),
                plugin: "aniOnScroll"
            }, {
                el: $(".top-section"),
                plugin: "paraHeader"
            }, {
                el: $(".iphone-list-wrapper"),
                plugin: "iphoneScreens"
            }, {
                el: $(".referenz-slideshow"),
                plugin: "refSlideshow"
            }, {
                el: $(".arr-icon-wrapper.mini").not(".small").not(".menu"),
                plugin: "miniArrIcon"
            }, {
                el: $(".referenz-overview-icon-wrapper"),
                plugin: "referenzIcon"
            }, {
                el: $(".arr-icon-wrapper.ref.back"),
                plugin: "refBackArr"
            }, {
                el: $(".mb-wireframes .img-col3"),
                plugin: "wireframeSpritemap"
            }]) : "bruno-triplet" === s.activeId ? initPlugins([{
                el: $(".btn.more"),
                plugin: "btnMore"
            }, {
                el: $("#cont"),
                plugin: "aniOnScroll"
            }, {
                el: $(".top-section"),
                plugin: "paraHeader"
            }, {
                el: $(".referenz-slideshow"),
                plugin: "refSlideshow"
            }, {
                el: $(".arr-icon-wrapper.mini").not(".small").not(".menu"),
                plugin: "miniArrIcon"
            }, {
                el: $(".referenz-overview-icon-wrapper"),
                plugin: "referenzIcon"
            }, {
                el: $(".bt-iphone-wrapper"),
                plugin: "iphoneColor"
            }, {
                el: $(".arr-icon-wrapper.ref.back"),
                plugin: "refBackArr"
            }]) : "ladage-oelke" === s.activeId ? initPlugins([{
                el: $(".btn.more"),
                plugin: "btnMore"
            }, {
                el: $("#cont"),
                plugin: "aniOnScroll"
            }, {
                el: $(".top-section"),
                plugin: "paraHeader"
            }, {
                el: $(".referenz-slideshow"),
                plugin: "refSlideshow"
            }, {
                el: $(".arr-icon-wrapper.mini").not(".small").not(".menu"),
                plugin: "miniArrIcon"
            }, {
                el: $(".referenz-overview-icon-wrapper"),
                plugin: "referenzIcon"
            }, {
                el: $("#cont"),
                plugin: "imgClusterControl"
            }, {
                el: $("#cont"),
                plugin: "teaserControl"
            }, {
                el: $(".arr-icon-wrapper.ref.back"),
                plugin: "refBackArr"
            }]) : "eha" === s.activeId ? initPlugins([{
                el: $(".btn.more"),
                plugin: "btnMore"
            }, {
                el: $("#cont"),
                plugin: "aniOnScroll"
            }, {
                el: $(".top-section"),
                plugin: "paraHeader"
            }, {
                el: $(".referenz-slideshow"),
                plugin: "refSlideshow"
            }, {
                el: $(".arr-icon-wrapper.mini").not(".small").not(".menu"),
                plugin: "miniArrIcon"
            }, {
                el: $(".referenz-overview-icon-wrapper"),
                plugin: "referenzIcon"
            }, {
                el: $(".iphone-list-wrapper"),
                plugin: "iphoneScreens"
            }, {
                el: $(".arr-icon-wrapper.ref.back"),
                plugin: "refBackArr"
            }]) : "hotel-wedina" === s.activeId ? initPlugins([{
                el: $(".btn.more"),
                plugin: "btnMore"
            }, {
                el: $("#cont"),
                plugin: "aniOnScroll"
            }, {
                el: $(".top-section"),
                plugin: "paraHeader"
            }, {
                el: $(".referenz-slideshow"),
                plugin: "refSlideshow"
            }, {
                el: $(".arr-icon-wrapper.mini").not(".small").not(".menu"),
                plugin: "miniArrIcon"
            }, {
                el: $(".referenz-overview-icon-wrapper"),
                plugin: "referenzIcon"
            }, {
                el: $(".arr-icon-wrapper.ref.back"),
                plugin: "refBackArr"
            }]) : "neo-live" === s.activeId && initPlugins([{
                el: $(".btn.more"),
                plugin: "btnMore"
            }, {
                el: $("#cont"),
                plugin: "aniOnScroll"
            }, {
                el: $(".top-section"),
                plugin: "paraHeader"
            }, {
                el: $(".referenz-slideshow"),
                plugin: "refSlideshow"
            }, {
                el: $(".arr-icon-wrapper.mini").not(".small").not(".menu"),
                plugin: "miniArrIcon"
            }, {
                el: $(".referenz-overview-icon-wrapper"),
                plugin: "referenzIcon"
            }, {
                el: $(".arr-icon-wrapper.ref.back"),
                plugin: "refBackArr"
            }, {
                el: $(".ipad-list-wrapper"),
                plugin: "iPadGallery"
            }])
        }, plugin.initMenu = function() {
            s.menuArr = new $.navigation($("#menu-arr-wrapper")), s.menuArr.initPlugin(), s.btnBurger = new $.btnBurger($("#btn-burger-wrapper")), s.btnBurger.initPlugin()
        }, plugin.checkBurgerOpen = function() {
            return s.btnBurger.settings.open
        }, plugin.closeBurger = function() {
            s.btnBurger.triggerCloseMenu()
        }, plugin.closeReferenceBackToOverview = function(href) {
            plugin.destroyContent(), s.activeId = 3, history.pushState({}, "", href), _gaq.push(["_trackPageview", href])
        }, init()
    }
}(jQuery);


// This is a better solution to the director.js that we were using in skillshop
var contentController, CONTENT_ARR = [{
        name: "home",
        type: "main"
    }, {
        name: "agentur",
        type: "main"
    }, {
        name: "arbeitsweise",
        type: "main"
    }, {
        name: "referenzen",
        type: "main"
    }, {
        name: "kontakt",
        type: "main"
    }, {
        name: "hotel-wedina",
        type: "reference"
    }, {
        name: "mercedes-benz",
        type: "reference"
    }, {
        name: "eha",
        type: "reference"
    }, {
        name: "neo-live",
        type: "reference"
    }, {
        name: "bruno-triplet",
        type: "reference"
    }, {
        name: "ladage-oelke",
        type: "reference"
    }],
    preloader, initLoadComplete = !1,
    initOverlayComplete = !1;
$(window).load(function() {
    $(window).trigger("initLoadComplete", [!0, !1])
}), $(document).ready(function() {
    "scrollRestoration" in history && (history.scrollRestoration = "manual"), detectIE() && $("body").addClass("msie");
    var newsletterFooter = new $.newsletterFooter($(".footer-newsletter-wrapper"));
    newsletterFooter.initPlugin(), contentController = new $.contentController, contentController.initMenu(), preloader = new $.preloader("body"), preloader.initPlugin(), preloader.initFirstPreload()
});


// Lets push our ga events here

var _gaq = _gaq || [];
_gaq.push(["_setAccount", "UA-41461831-1"]), _gaq.push(["_trackPageview"]),
    function() {
        var ga = document.createElement("script");
        ga.type = "text/javascript", ga.async = !0, ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(ga, s)
    }(),
    function($) {
        $.slideshow = function(el, options) {
            var defaults = {
                    activeId: 0,
                    numImg: 0,
                    fadeDelay: 6e3,
                    fadeSpeed: 1.2
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, s.numImg = $("img", $this).length, $("img", $this).removeClass(), $("img", $this).eq(s.activeId).addClass("active"), s.interval = setInterval(fadeNext, s.fadeDelay), $(window).resize(function(e) {
                        resize()
                    }), resize()
                },
                fadeNext = function() {
                    isTabHidden || ($("img.active", $this).removeClass("active").addClass("oldActive"), s.activeId < s.numImg - 1 ? s.activeId++ : s.activeId = 0, $("img", $this).eq(s.activeId).addClass("active").css("opacity", 0), TweenMax.to($("img.active", $this), s.fadeSpeed, {
                        opacity: 1,
                        ease: Quad.easeInOut,
                        onComplete: function() {
                            $("img.oldActive", $this).removeClass()
                        }
                    }))
                },
                resize = function() {
                    var cW = $this.width(),
                        cH = $this.height();
                    $("img", $this).each(function(i) {
                        var imgW = $(this).attr("width"),
                            imgH = $(this).attr("height"),
                            tempXscaleIntro = cW / imgW,
                            tempYscaleIntro = cH / imgH;
                        tempXscaleIntro > tempYscaleIntro ? (newImgW = tempXscaleIntro * imgW, newImgH = tempXscaleIntro * imgH) : (newImgW = tempYscaleIntro * imgW, newImgH = tempYscaleIntro * imgH), $(this).css({
                            width: newImgW,
                            height: newImgH,
                            left: .5 * (cW - newImgW),
                            top: .5 * (cH - newImgH)
                        })
                    })
                };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                s.numImg = 0, clearInterval(s.interval), $("img", $this).removeClass(), $(window).unbind("resize", resize)
            }
        }
    }(jQuery),
    function($) {
        $.aniOnScroll = function(el, options) {
            var defaults = {
                    speed: .75,
                    ease: Power2.easeInOut,
                    offsets: [],
                    firstrun: !0,
                    onSomeEvent: function() {}
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, $items, init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, isTouch() ? TweenMax.set($(".fade"), {
                        opacity: 1
                    }) : (setOffsetArr(), $(window).bind("resize", setOffsetArr), $(window).bind("scroll", plugin.checkOffsets), $(window).bind("recalcOffsets", setOffsetArr))
                },
                setOffsetArr = function() {
                    $items = $(".fade"), $items.length > 0 && (s.offsets = [], $items.each(function(i) {
                        var off = $(this).offset().top;
                        s.offsets.push([i, off])
                    }), s.offsets = s.offsets.sort(function(a, b) {
                        return a[1] - b[1]
                    })), plugin.checkOffsets()
                };
            plugin.checkOffsets = function() {
                if (s.offsets.length > 0) {
                    var scrollVal = $(window).scrollTop() + .9 * $(window).height();
                    s.firstrun ? ($.each(s.offsets, function(i) {
                        scrollVal >= this[1] && setShowItem(this[0])
                    }), s.firstrun = !1, setOffsetArr()) : $.each(s.offsets, function(i) {
                        return scrollVal >= this[1] ? (showItem(this[0]), s.offsets.splice(i, 1), !1) : void 0
                    })
                }
            };
            var setShowItem = function(id) {
                    TweenMax.killTweensOf($items.eq(id)), TweenMax.set($items.eq(id), {
                        opacity: 1,
                        y: 0
                    }), addShowClass(id)
                },
                showItem = function(id) {
                    TweenMax.killTweensOf($items.eq(id)), TweenMax.fromTo($items.eq(id), s.speed, {
                        opacity: 0,
                        y: 35
                    }, {
                        opacity: 1,
                        y: 0,
                        ease: s.ease,
                        onComplete: addShowClass(id)
                    })
                },
                addShowClass = function(id) {
                    $items.eq(id).removeClass("fade"), $items.eq(id).addClass("show")
                };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                $items = null, $(window).unbind("resize", setOffsetArr), $(window).unbind("scroll", plugin.checkOffsets), $(window).unbind("recalcOffsets", setOffsetArr)
            }
        }
    }(jQuery),
    function($) {
        $.arbeitsweiseProcess = function(el, options) {
            var defaults = {
                    w: 1230,
                    h: 440,
                    wh: 1386,
                    tl: null,
                    offsets: [],
                    isMobile: !1,
                    circleAni: [],
                    circleAniM: [],
                    offset: 0,
                    playOnce: !0
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, $(".small-circle, .big-circle, .green-circle, .arr", $this).hide(), $(".green-circle").each(function(i) {
                        TweenMax.set($(".tw:eq(0) p.tt", $(this)), {
                            top: -15
                        }), TweenMax.set($(".tw:eq(0) p.bb", $(this)), {
                            top: 0
                        })
                    }), s.offsets[0] = s.w / 2 - $("#kickoff", $this).width() / 2, s.offsets[1] = s.offsets[0] - 188, s.offsets[2] = s.offsets[1] - 188, s.offsets[3] = s.offsets[2] - 188;
                    for (var txtSpeed = .4, i = 0; 3 > i; i++) s.circleAni[i] = new TimelineMax({}), s.circleAni[i].to($(".green-circle:eq(" + i + ") .rot-circle, .green-circle:eq(" + i + ") .center", $this), .6, {
                        rotation: "+=120",
                        ease: Power2.easeInOut
                    }, 1), s.circleAni[i].to($(".green-circle:eq(" + i + ") .tw:eq(0) p.tt", $this), txtSpeed, {
                        top: 0,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAni[i].to($(".green-circle:eq(" + i + ") .tw:eq(0) p.bb", $this), txtSpeed, {
                        top: 15,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAni[i].to($(".green-circle:eq(" + i + ") .tw:eq(1) p.tt", $this), txtSpeed, {
                        top: -15,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAni[i].to($(".green-circle:eq(" + i + ") .tw:eq(1) p.bb", $this), txtSpeed, {
                        top: 0,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAni[i].to($(".green-circle:eq(" + i + ") .rot-circle, .green-circle:eq(" + i + ") .center", $this), .6, {
                        rotation: "+=120",
                        ease: Power2.easeInOut
                    }, 2.2), s.circleAni[i].to($(".green-circle:eq(" + i + ") .tw:eq(1) p.tt", $this), txtSpeed, {
                        top: 0,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAni[i].to($(".green-circle:eq(" + i + ") .tw:eq(1) p.bb", $this), txtSpeed, {
                        top: 15,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAni[i].to($(".green-circle:eq(" + i + ") .tw:eq(2) p.tt", $this), txtSpeed, {
                        top: -15,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAni[i].to($(".green-circle:eq(" + i + ") .tw:eq(2) p.bb", $this), txtSpeed, {
                        top: 0,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAni[i].to($(".green-circle:eq(" + i + ") .rot-circle, .green-circle:eq(" + i + ") .center", $this), .6, {
                        rotation: "+=120",
                        ease: Power2.easeInOut
                    }, 3.4), s.circleAni[i].to($(".green-circle:eq(" + i + ") .tw:eq(2) p.tt", $this), txtSpeed, {
                        top: 0,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAni[i].to($(".green-circle:eq(" + i + ") .tw:eq(2) p.bb", $this), txtSpeed, {
                        top: 15,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAni[i].to($(".green-circle:eq(" + i + ") .tw:eq(0) p.tt", $this), txtSpeed, {
                        top: -15,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAni[i].to($(".green-circle:eq(" + i + ") .tw:eq(0) p.bb", $this), txtSpeed, {
                        top: 0,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAniM[i] = new TimelineMax({}), s.circleAniM[i].to($(".green-circle:eq(" + i + ") .rot-circle, .green-circle:eq(" + i + ") .center", $this), .6, {
                        rotation: "+=120",
                        ease: Power2.easeInOut
                    }, .1), s.circleAniM[i].to($(".green-circle:eq(" + i + ") .tw:eq(0) p.tt", $this), txtSpeed, {
                        top: 0,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAniM[i].to($(".green-circle:eq(" + i + ") .tw:eq(0) p.bb", $this), txtSpeed, {
                        top: 15,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAniM[i].to($(".green-circle:eq(" + i + ") .tw:eq(1) p.tt", $this), txtSpeed, {
                        top: -15,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAniM[i].to($(".green-circle:eq(" + i + ") .tw:eq(1) p.bb", $this), txtSpeed, {
                        top: 0,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAniM[i].to($(".green-circle:eq(" + i + ") .rot-circle, .green-circle:eq(" + i + ") .center", $this), .6, {
                        rotation: "+=120",
                        ease: Power2.easeInOut
                    }, 1.5), s.circleAniM[i].to($(".green-circle:eq(" + i + ") .tw:eq(1) p.tt", $this), txtSpeed, {
                        top: 0,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAniM[i].to($(".green-circle:eq(" + i + ") .tw:eq(1) p.bb", $this), txtSpeed, {
                        top: 15,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAniM[i].to($(".green-circle:eq(" + i + ") .tw:eq(2) p.tt", $this), txtSpeed, {
                        top: -15,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAniM[i].to($(".green-circle:eq(" + i + ") .tw:eq(2) p.bb", $this), txtSpeed, {
                        top: 0,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAniM[i].to($(".green-circle:eq(" + i + ") .rot-circle, .green-circle:eq(" + i + ") .center", $this), .6, {
                        rotation: "+=120",
                        ease: Power2.easeInOut
                    }, 3), s.circleAniM[i].to($(".green-circle:eq(" + i + ") .tw:eq(2) p.tt", $this), txtSpeed, {
                        top: 0,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAniM[i].to($(".green-circle:eq(" + i + ") .tw:eq(2) p.bb", $this), txtSpeed, {
                        top: 15,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAniM[i].to($(".green-circle:eq(" + i + ") .tw:eq(0) p.tt", $this), txtSpeed, {
                        top: -15,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAniM[i].to($(".green-circle:eq(" + i + ") .tw:eq(0) p.bb", $this), txtSpeed, {
                        top: 0,
                        ease: Power2.easeInOut
                    }, "-=.4"), s.circleAniM[i].pause(0);
                    s.tl = new TimelineMax({
                        onComplete: aniComplete,
                        paused: !0
                    }), s.tl.set($(".process-inner", $this), {
                        x: s.offsets[0]
                    }), s.tl.set($("#kickoff", $this), {
                        scale: .1,
                        opacity: .1
                    }), s.tl.to($("#kickoff", $this), .5, {
                        display: "table",
                        autoAlpha: 1,
                        scale: 1,
                        opacity: 1,
                        ease: Power2.easeInOut
                    }), s.tl.fromTo($(".s1", $this), .3, {
                        opacity: 0,
                        display: "block"
                    }, {
                        opacity: 1,
                        repeat: 2,
                        yoyo: !0
                    }, "+=.2"), s.tl.to($(".process-inner", $this), .5, {
                        x: s.offsets[1],
                        ease: Power2.easeInOut
                    }, "-=.2"), s.tl.fromTo($(".big-circle.plan, .green-circle.plan", $this), .5, {
                        scale: 0,
                        opacity: 0,
                        display: "block"
                    }, {
                        scale: 1,
                        opacity: 1,
                        ease: Power2.easeInOut
                    }, "-=0.5"), s.tl.fromTo($(".green-circle.plan h2", $this), .5, {
                        opacity: 0
                    }, {
                        opacity: 1,
                        ease: Power2.easeInOut
                    }, "+=0.2"), s.tl.add(s.circleAni[0], "-=0.5"), s.tl.fromTo($(".s2", $this), .3, {
                        opacity: 0,
                        display: "block"
                    }, {
                        opacity: 1,
                        repeat: 2,
                        yoyo: !0
                    }, "+=.2"), s.tl.to($(".process-inner", $this), .5, {
                        x: s.offsets[2],
                        ease: Power2.easeInOut
                    }, "-=.2"), s.tl.fromTo($(".big-circle.create, .green-circle.create", $this), .5, {
                        scale: 0,
                        opacity: 0,
                        display: "block"
                    }, {
                        scale: 1,
                        opacity: 1,
                        ease: Power2.easeInOut
                    }, "-=0.5"), s.tl.fromTo($(".green-circle.create h2", $this), .5, {
                        opacity: 0,
                        display: "block"
                    }, {
                        opacity: 1,
                        display: "block",
                        ease: Power2.easeInOut
                    }, "+=0.2"), s.tl.add(s.circleAni[1], "-=0.5"), s.tl.fromTo($(".s3", $this), .3, {
                        opacity: 0,
                        display: "block"
                    }, {
                        opacity: 1,
                        repeat: 2,
                        yoyo: !0
                    }, "+=.2"), s.tl.to($(".process-inner", $this), .5, {
                        x: s.offsets[3],
                        ease: Power2.easeInOut
                    }, "-=.2"), s.tl.fromTo($(".big-circle.build, .green-circle.build", $this), .5, {
                        scale: 0,
                        opacity: 0,
                        display: "block"
                    }, {
                        scale: 1,
                        opacity: 1,
                        ease: Power2.easeInOut
                    }, "-=0.5"), s.tl.fromTo($(".green-circle.build h2", $this), .5, {
                        opacity: 0,
                        display: "block"
                    }, {
                        opacity: 1,
                        display: "block",
                        ease: Power2.easeInOut
                    }, "+=0.2"), s.tl.add(s.circleAni[2], "-=0.5"), s.tl.fromTo($(".s4", $this), .3, {
                        opacity: 0,
                        display: "block"
                    }, {
                        opacity: 1,
                        repeat: 2,
                        yoyo: !0
                    }, "+=.2"), s.tl.set($("#launch", $this), {
                        scale: .1,
                        opacity: .1
                    }), s.tl.to($("#launch", $this), .5, {
                        display: "table",
                        autoAlpha: 1,
                        scale: 1,
                        opacity: 1,
                        ease: Power2.easeInOut
                    }), 2 == $this.css("z-index") ? (s.isMobile = !0, s.playOnce = !1, s.tl.progress(1, !0), bindMobileEvents()) : s.isMobile = !1, $(window).bind("resize", resizeProcess), resizeProcess(), $(window).bind("scroll", scrollProcess)
                },
                resizeProcess = function() {
                    var ww = $this.parent().width();
                    s.isMobile && 2 != $this.css("z-index") ? (s.isMobile = !1, unbindMobileEvents(), bindDesktopEvents()) : s.isMobile || 2 != $this.css("z-index") || (s.isMobile = !0, s.playOnce = !1, s.tl.progress(1, !0), bindMobileEvents(), unbindDesktopEvents());
                    var sf;
                    sf = s.isMobile ? ww < s.h ? ww / s.h : 1 : ww < s.w ? ww / s.w : 1, s.offset = $this.offset().top, TweenMax.set($this, {
                        scale: sf
                    }), $this.parent().height(s.isMobile ? sf * s.wh : sf * s.h)
                },
                scrollProcess = function(e) {
                    var scroll = $(window).scrollTop() + .8 * $(window).height();
                    scroll > s.offset && !s.isMobile && s.playOnce && (s.playOnce = !1, s.tl.play(0))
                },
                bindDesktopEvents = function() {
                    $this.bind("click", startOver), $this.addClass("cursor")
                },
                aniComplete = function() {
                    s.isMobile || ($this.bind("click", startOver), $this.addClass("cursor"))
                },
                unbindDesktopEvents = function() {
                    $this.unbind("click", startOver), $this.removeClass("cursor")
                },
                startOver = function() {
                    TweenMax.to($this, .4, {
                        opacity: 0,
                        ease: Power2.easeInOut,
                        onComplete: startOver2
                    }), $this.removeClass("cursor"), $this.unbind("click", startOver)
                },
                startOver2 = function() {
                    TweenMax.set($this, {
                        opacity: 1
                    }), s.tl.seek(0), s.tl.play()
                },
                bindMobileEvents = function() {
                    $(".green-circle", $this).bind("click", mobileClick), $this.unbind("click", startOver)
                },
                unbindMobileEvents = function() {
                    $(".green-circle", $this).unbind("click", mobileClick);
                    for (var i = 0; 3 > i; i++) s.circleAniM[i].pause(0)
                },
                mobileClick = function(e) {
                    var index = $(this).index(".green-circle");
                    s.circleAniM[index].seek(0), s.circleAniM[index].play()
                };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                $(".green-circle", $this).unbind("click", mobileClick), $this.unbind("click", startOver);
                for (var i = 0; 3 > i; i++) s.circleAniM[i].pause(0), s.circleAni[i].pause(0), s.circleAniM[i] = null, s.circleAni[i] = null;
                s.tl.pause(0), s.tl = null, $(window).unbind("resize", resizeProcess), $(window).unbind("scroll", scrollProcess)
            }
        }
    }(jQuery),
    function($) {
        $.arrIcon = function(el, options) {
            function mEnter() {
                s.playing = !0, s.stop = !1, hoverTL.restart()
            }

            function mOut() {
                s.stop = !0
            }

            function triScale(element, tl, speed, endPoints, ease) {
                var ease = ease,
                    startPoints = [],
                    endPoints = endPoints;
                startPoints = $(element).attr("points"), startPoints = startPoints.split(/[\s,]+/);
                for (var i = 0; i < startPoints.length; i++) startPoints[i] = parseFloat(startPoints[i]);
                var propStr = endPoints.join(" "),
                    nth = 0;
                propStr = propStr.replace(/ /g, function(match, i, original) {
                    return nth++, nth % 2 == 1 ? "," : match
                }), tl.clear(), tl.to(element, s.speed, {
                    attr: {
                        points: propStr
                    },
                    ease: ease
                })
            }

            function stopOrNot() {
                s.playing = !1, s.stop ? hoverTL.pause() : hoverTL.restart()
            }

            function buildTriSmall() {
                s.playing && triScale($tri, transPointTL[0], .5 * s.speed, [10, 56, 10, 65, 10, 56], Power1.easeInOut)
            }

            function buildTriSmall2() {
                s.playing && triScale($tri, transPointTL[2], .5 * s.speed, [3, 56, 10, 65, 17, 56], Power2.easeOut)
            }

            function buildTriBig() {
                s.playing && triScale($tri, transPointTL[1], s.speed, [1, 56, 10, 65, 19, 56], Power2.easeIn)
            }
            var defaults = {
                    playing: !1,
                    speed: .3,
                    stop: !1,
                    onSomeEvent: function() {}
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, $line, $tri, hoverTL, lineHideTL, yTransTri, yTransTriTop1, yTransTriTop2, lineShowTL1, lineShowTL2, fixStr, transPointTL = [],
                init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, $tri = $(".arr-tri", $this), $line = $(".arr-line", $this), transPointTL[0] = new TimelineMax({}), transPointTL[1] = new TimelineMax({}), transPointTL[2] = new TimelineMax({}), isTouch() || ($this.bind("mouseenter", mEnter), $this.bind("mouseleave", mOut)), fixStr = {
                        z: .1,
                        rotationZ: .01,
                        force3D: !0
                    }, TweenMax.set([$line, $tri], fixStr), lineHideTL = new TimelineMax({}), lineHideTL.to($line, 1.25 * s.speed, {
                        drawSVG: "100% 100%",
                        ease: Power1.easeInOut
                    }, 0), lineShowTL1 = new TimelineMax({}), lineShowTL1.fromTo($line, 1.25 * s.speed, {
                        drawSVG: "0% 0%"
                    }, {
                        drawSVG: "0% 30%",
                        immediateRender: !1,
                        ease: Power1.easeInOut
                    }, 0), lineShowTL2 = new TimelineMax({}), lineShowTL2.to($line, 1.25 * s.speed, {
                        drawSVG: "0% 100%",
                        ease: Power1.easeInOut
                    }, 0), yTransTri = new TimelineMax({}), yTransTri.fromTo($tri, s.speed, {
                        y: 0
                    }, {
                        y: 15,
                        ease: Power1.easeInOut
                    }, 0), yTransTriTop1 = new TimelineMax({}), yTransTriTop1.fromTo($tri, 1.25 * s.speed, {
                        y: -65
                    }, {
                        y: -40,
                        immediateRender: !1,
                        ease: Power1.easeInOut
                    }, 0), yTransTriTop2 = new TimelineMax({}), yTransTriTop2.to($tri, 1.25 * s.speed, {
                        y: 0,
                        ease: Power1.easeInOut
                    }, 0), hoverTL = new TimelineMax({
                        paused: !0,
                        onComplete: stopOrNot
                    }), hoverTL.add(lineHideTL, 0).addCallback(buildTriSmall, "-=0.2").add(transPointTL[0], "-=0.2").add(yTransTri, "-=.15").add(yTransTriTop1, "-=0").add(lineShowTL1, "-=" + 1.25 * s.speed).addCallback(buildTriBig, "-=" + 1.25 * s.speed).add(transPointTL[1], "-=" + 1.25 * s.speed).add(yTransTriTop2, "-=" + s.speed).add(lineShowTL2, "-=" + 1.25 * s.speed).addCallback(buildTriSmall2, "-=" + s.speed).add(transPointTL[2], "-=" + s.speed)
                };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                lineShowTL2 = null, transPointTL[0], transPointTL[1], transPointTL[2] = null, $line = null, $this.unbind("mouseenter", mEnter), $this.unbind("mouseleave", mOut)
            }
        }
    }(jQuery),
    function($) {
        $.backArrIcon = function(el, options) {
            function mEnter() {
                s.playing = !0, s.stop = !1, hoverTL.restart()
            }

            function mOut() {
                s.stop = !0
            }

            function triScale(element, tl, speed, endPoints, ease) {
                var ease = ease,
                    startPoints = [],
                    endPoints = endPoints;
                startPoints = $(element).attr("points"), startPoints = startPoints.split(/[\s,]+/);
                for (var i = 0; i < startPoints.length; i++) startPoints[i] = parseFloat(startPoints[i]);
                var propStr = endPoints.join(" "),
                    nth = 0;
                propStr = propStr.replace(/ /g, function(match, i, original) {
                    return nth++, nth % 2 == 1 ? "," : match
                }), tl.clear(), tl.to(element, s.speed, {
                    attr: {
                        points: propStr
                    },
                    ease: ease
                })
            }

            function stopOrNot() {
                s.playing = !1, s.stop ? hoverTL.pause() : hoverTL.restart()
            }

            function buildTriSmall() {
                s.playing && triScale($tri, transPointTL[0], .5 * s.speed, [10, 46, 10, 55, 10, 46], Power1.easeInOut)
            }

            function buildTriSmall2() {
                s.playing && triScale($tri, transPointTL[2], .5 * s.speed, [3, 46, 10, 55, 17, 46], Power2.easeOut)
            }

            function buildTriBig() {
                s.playing && triScale($tri, transPointTL[1], s.speed, [1, 46, 10, 55, 19, 46], Power2.easeIn)
            }

            function buildLink() {
                var clickElement = $("#back-arr"),
                    target = $("#back-arr").find("a").attr("href"),
                    targetOffset = $(target).offset().top;
                $(clickElement).click(function(e) {
                    TweenLite.to(window, 2 * s.speed, {
                        scrollTo: {
                            y: targetOffset
                        },
                        ease: Power2.easeOut
                    }), e.preventDefault()
                })
            }
            var defaults = {
                    playing: !1,
                    speed: .3,
                    stop: !1,
                    onSomeEvent: function() {}
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, $line, $tri, hoverTL, lineHideTL, yTransTri, yTransTriTop1, yTransTriTop2, lineShowTL1, lineShowTL2, fixStr, transPointTL = [],
                init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, $tri = $(".arr-tri", $this), $line = $(".arr-line", $this), transPointTL[0] = new TimelineMax({}), transPointTL[1] = new TimelineMax({}), transPointTL[2] = new TimelineMax({}), isTouch() || ($this.bind("mouseenter", mEnter), $this.bind("mouseleave", mOut)), buildLink(), fixStr = {
                        z: .1,
                        rotationZ: .01,
                        force3D: !0
                    }, TweenMax.set([$line, $tri], fixStr), lineHideTL = new TimelineMax({}), lineHideTL.to($line, 1.25 * s.speed, {
                        drawSVG: "100% 100%",
                        ease: Power1.easeInOut
                    }, 0), lineShowTL1 = new TimelineMax({}), lineShowTL1.fromTo($line, 1.25 * s.speed, {
                        drawSVG: "0% 0%"
                    }, {
                        drawSVG: "0% 30%",
                        immediateRender: !1,
                        ease: Power1.easeInOut
                    }, 0), lineShowTL2 = new TimelineMax({}), lineShowTL2.to($line, 1.25 * s.speed, {
                        drawSVG: "0% 100%",
                        ease: Power1.easeInOut
                    }, 0), yTransTri = new TimelineMax({}), yTransTri.fromTo($tri, s.speed, {
                        y: 0
                    }, {
                        y: 15,
                        ease: Power1.easeInOut
                    }, 0), yTransTriTop1 = new TimelineMax({}), yTransTriTop1.fromTo($tri, 1.25 * s.speed, {
                        y: -65
                    }, {
                        y: -40,
                        immediateRender: !1,
                        ease: Power1.easeInOut
                    }, 0), yTransTriTop2 = new TimelineMax({}), yTransTriTop2.to($tri, 1.25 * s.speed, {
                        y: 0,
                        ease: Power1.easeInOut
                    }, 0), hoverTL = new TimelineMax({
                        paused: !0,
                        onComplete: stopOrNot
                    }), hoverTL.add(lineHideTL, 0).addCallback(buildTriSmall, "-=0.2").add(transPointTL[0], "-=0.2").add(yTransTri, "-=.15").add(yTransTriTop1, "-=0").add(lineShowTL1, "-=" + 1.25 * s.speed).addCallback(buildTriBig, "-=" + 1.25 * s.speed).add(transPointTL[1], "-=" + 1.25 * s.speed).add(yTransTriTop2, "-=" + s.speed).add(lineShowTL2, "-=" + 1.25 * s.speed).addCallback(buildTriSmall2, "-=" + s.speed).add(transPointTL[2], "-=" + s.speed)
                };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                lineShowTL2 = null, transPointTL[0], transPointTL[1], transPointTL[2] = null, $line = null, $this.unbind("mouseenter", mEnter), $this.unbind("mouseleave", mOut)
            }
        }
    }(jQuery),
    function($) {
        $.btnBurger = function(el, options) {
            function checkViewport() {
                var vw = $(window).width();
                500 >= vw ? (s.contX = "-10%", s.navX = "5%") : 768 >= vw ? (s.contX = "-15%", s.navX = "20%") : (s.contX = "-25%", s.navX = "35%")
            }

            function setMenu() {
                var vw = $(window).width();
                500 >= vw ? s.contX = "-10%" : 768 >= vw ? s.contX = "-15%" : s.contX = "-25%", old = s.contX, s.open && TweenMax.set($("#cont"), {
                    left: s.contX
                })
            }

            function clicking() {
                s.switching || (s.open ? s.open && (s.tweening || (s.tweening = !0, s.open = !1, menuLinesUnstretch(), menuHoverTl.reverse(), clickTl.reverse(0), closeMenu(), setTimeout(function() {
                    siteBurger()
                }, 500))) : s.tweening || (s.tweening = !0, s.open = !0, siteHoverTl.reverse(), clickTl.restart(), openMenu(), setTimeout(function() {
                    menuBurger()
                }, 400)))
            }

            function mEnter() {
                s.mobile || s.tweening || s.switching || (s.open ? (menuLinesStretch(), menuHoverTl.restart()) : (siteLinesStretch(), siteHoverTl.restart()))
            }

            function mOut() {
                s.mobile || s.tweening || s.switching || (s.open ? (menuLinesUnstretch(), menuHoverTl.reverse()) : (siteLinesUnstretch(), siteHoverTl.reverse()))
            }

            function initChecks() {
                var vw = $(window).width();
                vw <= s.breakpoint ? (s.mobile = !0, s.mode = "small", smallBurger()) : vw > s.breakpoint && (s.mobile = !1), s.scrollBreakpoint = .75 * $(window).height();
                var scroll = $(window).scrollTop();
                s.mobile || s.open || s.tweening || (scroll > s.scrollBreakpoint ? smallBurger() : scroll < s.scrollBreakpoint && bigBurger())
            }

            function checkScroll() {
                s.scrollBreakpoint = .75 * $(window).height();
                var scroll = $(window).scrollTop();
                s.mobile || s.open || s.tweening || (scroll > s.scrollBreakpoint && "big" === s.mode ? smallBurger() : scroll < s.scrollBreakpoint && "small" === s.mode && bigBurger())
            }

            function checkMobile() {
                var vw = $(window).width();
                vw <= s.breakpoint && !s.mobile ? (s.mobile = !0, s.open || s.tweening || smallBurger()) : vw > s.breakpoint && s.mobile && (s.mobile = !1, checkScroll())
            }

            function siteLinesStretch() {
                TweenMax.to($(".line", $this).eq(0), .5 * s.speed, {
                    y: -2,
                    ease: Power1.easeInOut
                }, 0), TweenMax.to($(".line", $this).eq(2), .5 * s.speed, {
                    y: 2,
                    ease: Power1.easeInOut
                }, 0)
            }

            function siteLinesUnstretch() {
                TweenMax.to($(".line", $this).eq(0), .5 * s.speed, {
                    y: 0,
                    ease: Power1.easeInOut
                }, 0), TweenMax.to($(".line", $this).eq(2), .5 * s.speed, {
                    y: 0,
                    ease: Power1.easeInOut
                }, 0)
            }

            function menuLinesStretch() {
                "small" !== s.mode || s.mobile ? TweenMax.to([$(".line", $this).eq(0), $(".line", $this).eq(1), $(".line", $this).eq(2)], .5 * s.speed, {
                    scaleX: .901,
                    ease: Power1.easeInOut
                }) : TweenMax.to([$(".line", $this).eq(0), $(".line", $this).eq(1), $(".line", $this).eq(2)], .5 * s.speed, {
                    scaleX: 1.601,
                    ease: Power1.easeInOut
                })
            }

            function menuLinesUnstretch() {
                "small" !== s.mode || s.mobile ? TweenMax.to([$(".line", $this).eq(0), $(".line", $this).eq(1), $(".line", $this).eq(2)], .5 * s.speed, {
                    scaleX: 1,
                    ease: Power1.easeInOut
                }) : TweenMax.to([$(".line", $this).eq(0), $(".line", $this).eq(1), $(".line", $this).eq(2)], .5 * s.speed, {
                    scaleX: 1.901,
                    ease: Power1.easeInOut
                })
            }

            function initTimelines() {
                menuHoverTl = null, menuHoverTl = new TimelineMax({
                    paused: !0
                }), menuHoverTl.fromTo($(".circle.stroke").eq(0), .75 * s.speed, {
                    drawSVG: "50%  50%",
                    "stroke-opacity": "0"
                }, {
                    drawSVG: "50% 30%",
                    "stroke-opacity": "1",
                    ease: Power2.easeIn
                }, "0"), menuHoverTl.fromTo($(".circle.stroke").eq(1), .75 * s.speed, {
                    drawSVG: "100%  100%",
                    "stroke-opacity": "0"
                }, {
                    drawSVG: "100% 80%",
                    "stroke-opacity": "1",
                    ease: Power2.easeIn
                }, "0"), menuHoverTl.to($(".circle.stroke").eq(0), s.speed, {
                    drawSVG: "50% 0%",
                    ease: Power2.easeOut
                }, "+=0"), menuHoverTl.to($(".circle.stroke").eq(1), s.speed, {
                    drawSVG: "100% 50%",
                    ease: Power2.easeOut
                }, "-=" + s.speed), siteHoverTl = null, siteHoverTl = new TimelineMax({
                    paused: !0
                }), siteHoverTl.fromTo($(".circle.stroke").eq(0), .75 * s.speed, {
                    drawSVG: "50%  50%",
                    "stroke-opacity": "0"
                }, {
                    drawSVG: "50% 30%",
                    "stroke-opacity": "1",
                    ease: Power2.easeIn
                }, "0"), siteHoverTl.fromTo($(".circle.stroke").eq(1), .75 * s.speed, {
                    drawSVG: "100%  100%",
                    "stroke-opacity": "0"
                }, {
                    drawSVG: "100% 80%",
                    "stroke-opacity": "1",
                    ease: Power2.easeIn
                }, "0"), siteHoverTl.to($(".circle.stroke").eq(0), s.speed, {
                    drawSVG: "50% 0%",
                    ease: Power2.easeOut
                }, "+=0"), siteHoverTl.to($(".circle.stroke").eq(1), s.speed, {
                    drawSVG: "100% 50%",
                    ease: Power2.easeOut
                }, "-=" + s.speed), transLines = null, transLines = new TimelineMax({}), "big" === s.mode ? transLines.fromTo($(".line").eq(0), .5 * s.speed, {
                    y: 0
                }, {
                    transformOrigin: "50% 50% 0%",
                    y: 7,
                    ease: Power2.easeOut
                }, 0).fromTo($(".line").eq(1), .5 * s.speed, {
                    y: 0
                }, {
                    transformOrigin: "50% 50% 0%",
                    opacity: 0,
                    ease: Power2.easeOut
                }, 0).fromTo($(".line").eq(2), .5 * s.speed, {
                    y: 0
                }, {
                    transformOrigin: "50% 50% 0%",
                    y: -7,
                    ease: Power2.easeOut
                }, 0) : "small" === s.mode && transLines.fromTo($(".line").eq(0), .5 * s.speed, {
                    y: 0
                }, {
                    transformOrigin: "50% 50% 0%",
                    y: 4,
                    ease: Power2.easeOut
                }, 0).fromTo($(".line").eq(1), .5 * s.speed, {
                    y: 0
                }, {
                    transformOrigin: "50% 50% 0%",
                    opacity: 0,
                    ease: Power2.easeOut
                }, 0).fromTo($(".line").eq(2), .5 * s.speed, {
                    y: 0
                }, {
                    transformOrigin: "50% 50% 0%",
                    y: -4,
                    ease: Power2.easeOut
                }, 0), rotateLines = null, rotateLines = new TimelineMax({}), rotateLines.to($(".line").eq(0), .5 * s.speed, {
                    transformOrigin: "50% 50% 0%",
                    rotation: 180,
                    ease: Power2.easeOut
                }, 0).to($(".line").eq(2), .5 * s.speed, {
                    transformOrigin: "50% 50% 0%",
                    rotation: 180,
                    ease: Power2.easeOut
                }, 0).to($(".line").eq(0), .5 * s.speed, {
                    transformOrigin: "50% 50% 0%",
                    rotation: 225,
                    ease: Power2.easeOut
                }, "+=0").to($(".line").eq(2), .5 * s.speed, {
                    transformOrigin: "50% 50% 0%",
                    rotation: 135,
                    ease: Power2.easeOut
                }, "-=" + .5 * s.speed), clickTl = null, clickTl = new TimelineMax({
                    paused: !0,
                    onComplete: onCompleteClickTl,
                    onReverseComplete: onReverseCompleteClickTl
                }), clickTl.add(transLines, 0).add(rotateLines, "+=0")
            }

            function onCompleteClickTl() {
                s.tweening = !1
            }

            function onReverseCompleteClickTl() {
                s.tweening = !1
            }

            function smallBurger() {
                s.switching = !0, s.mode = "small", TweenMax.set([$(".line", $this).eq(0), $(".line", $this).eq(1), $(".line", $this).eq(2)], {
                    transformOrigin: "50% 50% 0%"
                }), TweenMax.set($(".circle.fill").eq(0), {
                    transformOrigin: "38px 38px 0px"
                }), TweenMax.to($(".circle-bg", $this), 1.35 * s.speed, {
                    attr: {
                        d: "M21,40a19,19 0 1,0 38,0a19,19 0 1,0 -38,0"
                    }
                }), TweenMax.to($(".line", $this).eq(0), 1.35 * s.speed, {
                    attr: {
                        points: "29,36 40,36 51,36"
                    }
                }), TweenMax.to($(".line", $this).eq(1), 1.35 * s.speed, {
                    attr: {
                        points: "29,40 40,40 51,40"
                    },
                    delay: .05
                }), TweenMax.to($(".line", $this).eq(2), 1.35 * s.speed, {
                    attr: {
                        points: "29,44 40,44 51,44"
                    },
                    delay: .1
                }), TweenMax.to([$(".line", $this).eq(0), $(".line", $this).eq(1), $(".line", $this).eq(2)], 1.35 * s.speed, {
                    stroke: "black"
                }), TweenMax.to($(".circle-bg", $this), 1.35 * s.speed, {
                    "fill-opacity": "1"
                }), siteBurger(), initTimelines()
            }

            function bigBurger() {
                s.switching = !0, s.mode = "big", TweenMax.set([$(".line", $this).eq(0), $(".line", $this).eq(1), $(".line", $this).eq(2)], {
                    transformOrigin: "50% 50% 0%"
                }), TweenMax.set($(".circle.fill").eq(0), {
                    transformOrigin: "38px 38px 0px"
                }), TweenMax.to($(".circle-bg", $this), 1.35 * s.speed, {
                    attr: {
                        d: "M2,40a38,38 0 1,0 76,0a38,38 0 1,0 -76,0"
                    }
                }), TweenMax.to($(".line", $this).eq(0), 1.35 * s.speed, {
                    attr: {
                        points: "19,33 40,33 61,33"
                    }
                }), TweenMax.to($(".line", $this).eq(1), 1.35 * s.speed, {
                    attr: {
                        points: "19,40 40,40 61,40"
                    },
                    delay: .05
                }), TweenMax.to($(".line", $this).eq(2), 1.35 * s.speed, {
                    attr: {
                        points: "19,47 40,47 61,47"
                    },
                    delay: .1
                }), TweenMax.to([$(".line", $this).eq(0), $(".line", $this).eq(1), $(".line", $this).eq(2)], 1.35 * s.speed, {
                    stroke: "white"
                }), TweenMax.to($(".circle-bg", $this), 1.35 * s.speed, {
                    "fill-opacity": "0"
                }), siteBurger(), initTimelines()
            }

            function menuBurger() {
                "big" === s.mode ? (TweenMax.to($(".circle.stroke", $this), s.speed, {
                    stroke: "black"
                }), TweenMax.to($(".circle.fill", $this), s.speed, {
                    fill: "black"
                }), TweenMax.to($(".line", $this), s.speed, {
                    stroke: "black"
                })) : "small" === s.mode && (s.mobile ? TweenMax.set($(".circle.stroke").eq(0), {
                    stroke: "none"
                }) : TweenMax.to($(".circle.stroke", $this), s.speed, {
                    stroke: "black"
                }), TweenMax.to($(".circle.fill", $this), s.speed, {
                    fill: "black"
                }), TweenMax.to($(".line", $this), s.speed, {
                    stroke: "black"
                })), setTimeout(function() {
                    sizeUpLines()
                }, 400)
            }

            function sizeUpLines() {
                "small" !== s.mode || s.mobile || (TweenMax.to($(".circle-bg", $this), .75 * s.speed, {
                    transformOrigin: "50% 50% 0%",
                    scale: 1.9251
                }), TweenMax.to($(".line", $this), .75 * s.speed, {
                    scaleX: 1.901,
                    delay: .1
                }))
            }

            function sizeDownLines() {
                "small" !== s.mode || s.mobile || (TweenMax.to($(".circle-bg", $this), .75 * s.speed, {
                    transformOrigin: "50% 50% 0%",
                    scale: 1
                }), TweenMax.staggerTo($(".line", $this), .5 * s.speed, {
                    scaleX: 1
                }, -.1))
            }

            function siteBurger() {
                "big" === s.mode ? (TweenMax.to($(".circle.stroke", $this), s.speed, {
                    stroke: "white"
                }), TweenMax.to($(".circle.fill", $this), s.speed, {
                    fill: "white"
                }), TweenMax.to($(".line", $this), s.speed, {
                    stroke: "white",
                    onComplete: function() {
                        s.switching = !1
                    }
                })) : "small" === s.mode && (TweenMax.to($(".circle.stroke", $this), s.speed, {
                    stroke: "none"
                }), TweenMax.to($(".circle.fill", $this), s.speed, {
                    fill: "none"
                }), TweenMax.to($(".line", $this), s.speed, {
                    stroke: "black",
                    onComplete: function() {
                        s.switching = !1
                    }
                })), setTimeout(function() {
                    sizeDownLines()
                }, 300), setTimeout(function() {
                    checkScroll()
                }, 400)
            }

            function closing() {
                $(".btn.burger", $this).trigger("click")
            }

            function openMenu() {
                checkViewport(), $(document).trigger("triggerMenu"), $("#dark-rect").bind("click", closing), TweenMax.to($("#menu-overlay-wrapper"), .8 * s.fadeSpeed, {
                    left: "0%",
                    ease: Power2.easeInOut
                }), TweenMax.to($("#dark-rect"), .8 * s.fadeSpeed, {
                    attr: {
                        points: "0,0 100,0 100,100 0,100 "
                    },
                    ease: Power2.easeInOut,
                    delay: .25 * s.speed
                }), setTimeout(function() {
                    TweenMax.to($("#green-overlay-wrapper"), 1 * s.fadeSpeed, {
                        right: "0%",
                        ease: Power2.easeInOut
                    }), TweenMax.to($("nav"), 1 * s.fadeSpeed, {
                        right: "0%",
                        ease: Power2.easeInOut,
                        delay: .75 * s.speed
                    }), TweenMax.to($("#green-rect"), 1 * s.fadeSpeed, {
                        attr: {
                            points: "0,0 100,0 100,100 0,100 "
                        },
                        ease: Power2.easeInOut,
                        delay: .75 * s.speed
                    })
                }, 250 * s.speed), setTimeout(function() {
                    TweenMax.fromTo($("#menu-arr-wrapper"), s.speed, {
                        opacity: 0
                    }, {
                        opacity: 1,
                        ease: Power2.easeInOut,
                        delay: 2 * s.speed
                    }), TweenMax.staggerFromTo($("#main-menu").find("li"), s.speed, {
                        x: 75
                    }, {
                        x: 0,
                        ease: Power2.easeInOut,
                        delay: 1 * s.speed
                    }, -(.15 * s.speed)), TweenMax.fromTo($("#lang-select"), s.speed, {
                        x: 25,
                        opacity: 0
                    }, {
                        x: 0,
                        opacity: 1,
                        ease: Power2.easeInOut,
                        delay: .2 * s.speed * 6
                    }), TweenMax.fromTo($("#logo-dark"), .8 * s.fadeSpeed, {
                        x: 75,
                        opacity: 0
                    }, {
                        x: 0,
                        opacity: 1,
                        ease: Power2.easeInOut,
                        delay: 1.85 * s.speed
                    }), TweenMax.to($("#cont"), 1.5 * s.fadeSpeed, {
                        left: s.contX,
                        ease: Power2.easeInOut,
                        delay: .5 * s.speed
                    }), $("#footer").length > 0 && TweenMax.to($("#footer"), 1.5 * s.fadeSpeed, {
                        left: s.contX,
                        ease: Power2.easeInOut,
                        clearProps: "transform"
                    }), $(".top-section").find(".inner").length > 0 && TweenMax.to($(".top-section").find(".inner"), 1.5 * s.fadeSpeed, {
                        left: s.contX,
                        ease: Power2.easeInOut,
                        delay: .5 * s.speed
                    })
                }, 300 * s.speed)
            }

            function closeMenu() {
                $("#dark-rect").unbind("click", closing), TweenMax.to($("#logo-dark"), .6 * s.fadeSpeed, {
                    x: 50,
                    opacity: 0,
                    ease: Power2.easeInOut
                }), TweenMax.fromTo($("#menu-arr-wrapper"), s.speed, {
                    opacity: 1
                }, {
                    opacity: 0,
                    ease: Power2.easeInOut,
                    delay: .5 * s.speed
                }), TweenMax.staggerFromTo($("#main-menu").find("li"), s.speed, {
                    x: 0
                }, {
                    x: 75,
                    ease: Power2.easeInOut
                }, .1 * s.speed), TweenMax.fromTo($("#lang-select"), s.speed, {
                    x: 0,
                    opacity: 1
                }, {
                    x: 50,
                    opacity: 0,
                    ease: Power2.easeInOut,
                    delay: .2 * s.speed * 6
                }), TweenMax.to($("#cont"), 1 * s.fadeSpeed, {
                    left: "0%",
                    ease: Power2.easeInOut,
                    clearProps: "transform"
                }), $("#footer").length > 0 && TweenMax.to($("#footer"), 1 * s.fadeSpeed, {
                    left: "0%",
                    ease: Power2.easeInOut,
                    clearProps: "transform"
                }), $(".top-section").find(".inner").length > 0 && TweenMax.fromTo($(".top-section").find(".inner"), 1 * s.fadeSpeed, {
                    left: s.contX
                }, {
                    left: "0%",
                    ease: Power2.easeInOut
                }), TweenMax.to($("nav"), 1 * s.fadeSpeed, {
                    right: "-100%",
                    ease: Power2.easeInOut,
                    delay: .25 * s.speed
                }), TweenMax.to($("#green-overlay-wrapper"), 1 * s.fadeSpeed, {
                    right: "-100%",
                    ease: Power2.easeInOut,
                    delay: 1.25 * s.speed
                }), TweenMax.to($("#green-rect"), 1 * s.fadeSpeed, {
                    attr: {
                        points: "25,0 100,0 100,100 0,100 "
                    },
                    ease: Power2.easeInOut,
                    delay: .5 * s.speed
                }), setTimeout(function() {
                    TweenMax.to($("#menu-overlay-wrapper"), 1.2 * s.speed, {
                        left: "100%",
                        ease: Power2.easeInOut,
                        delay: .25 * s.speed
                    }), TweenMax.to($("#dark-rect"), 1.2 * s.fadeSpeed, {
                        attr: {
                            points: "0,0 100,0 100,100 50,100"
                        },
                        ease: Power2.easeInOut
                    })
                }, 600 * s.speed)
            }
            var defaults = {
                    open: !1,
                    mobile: null,
                    mode: null,
                    breakpoint: 600,
                    scrollBreakpoint: null,
                    tweening: !1,
                    switching: !1,
                    speed: .5,
                    fadeSpeed: .75,
                    contX: "-25%",
                    navX: "35%"
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, clickTl, transLines, rotateLines, resetSiteOutlineTl, old = "-25%",
                init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, $(window).bind("scroll", checkScroll), $(window).bind("resize", checkMobile), isTouch() || ($(".btn.burger", $this).bind("mouseenter", mEnter), $(".btn.burger", $this).bind("mouseleave", mOut)), $(".btn.burger", $this).bind("click", clicking), initChecks(), $(window).bind("resize", setMenu)
                };
            plugin.triggerCloseMenu = function() {
                s.open && (s.speed = .005, s.fadeSpeed = .0075, $(".btn.burger", $this).trigger("click"), setTimeout(function() {
                    s.speed = .5, s.fadeSpeed = .75
                }, 100))
            }, plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                s.open = !1, s.mobile = null, s.mode = null, s.breakpoint = 600, s.scrollBreakpoint = null, s.tweening = !1, s.switching = !1, s.speed = .5, resetSiteOutlineTl = null, $(window).unbind("scroll", checkScroll), $(window).unbind("resize", checkMobile), $(".btn.burger", $this).unbind("mouseenter", mEnter), $(".btn.burger", $this).unbind("mouseleave", mOut), $(".btn.burger", $this).unbind("click", clicking)
            }
        }
    }(jQuery),
    function($) {
        $.btnMore = function(el, options) {
            function mEnter() {
                hoverTL.play()
            }

            function mOut() {
                hoverTL.reverse()
            }
            var defaults = {
                    clicked: !1,
                    playing: !1,
                    speed: .3,
                    onSomeEvent: function() {}
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, hoverTL, strokeLinesTL, originX, originY, strokeWidth, fixStr, $lines = [],
                init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, $(".line", $this).each(function() {
                        $lines.push(this)
                    }), isTouch() || ($this.bind("mouseenter", mEnter), $this.bind("mouseleave", mOut)), originX = .5 * $(".btn.more").width(), originY = .5 * $(".btn.more").height(), fixStr = {
                        z: .1,
                        rotationZ: .01,
                        force3D: !0
                    }, TweenMax.set([$lines[0], $lines[1], $lines[2]], fixStr), TweenMax.set([$lines[1], $lines[2]], {
                        transformOrigin: originX + strokeWidth + "px " + originY + strokeWidth + "px 0px"
                    }), strokeLinesTL = new TimelineMax({}), strokeLinesTL.fromTo($lines[1], .75 * s.speed, {
                        drawSVG: "0%  0%",
                        "stroke-opacity": "0"
                    }, {
                        drawSVG: "0% 30%",
                        "stroke-opacity": "1",
                        ease: Power2.easeIn
                    }, "0").fromTo($lines[2], .75 * s.speed, {
                        drawSVG: "0%  0%",
                        "stroke-opacity": "0"
                    }, {
                        drawSVG: "0% 30%",
                        "stroke-opacity": "1",
                        ease: Power2.easeIn
                    }, "0").to($lines[1], 1.1 * s.speed, {
                        drawSVG: "0% 100%",
                        ease: Power2.easeOut
                    }, "+=0").to($lines[2], 1.1 * s.speed, {
                        drawSVG: "0% 100%",
                        ease: Power2.easeOut
                    }, "-=" + s.speed).to($lines[0], 1.1 * s.speed, {
                        "stroke-opacity": "1",
                        ease: Power2.easeOut
                    }, "0"), hoverTL = new TimelineMax({
                        paused: !0
                    }), hoverTL.add(strokeLinesTL, "0"), isTouch() && hoverTL.progress(1, !1)
                };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                strokeLinesTL = null, $lines = null, $this.unbind("mouseenter", mEnter), $this.unbind("mouseleave", mOut)
            }
        }
    }(jQuery),
    function($) {
        $.home_slideshow = function(el, options) {
            function resize() {
                var newH = $this.width() / s.imgOrigW * s.imgOrigH;
                $this.css({
                    height: newH
                }), $(".slide-txt-items-top", $this).height($("h4.active", $this).height()), $(".slide-txt-items-bottom", $this).height($("h5.active", $this).height() + 5);
                var pos;
                $(window).width() < 980 ? (pos = parseInt($(".slide-txt-wrapper", $this).position().top + $("#home-slideshow-butt", $this).position().top) + $("#home-slideshow-butt", $this).height(), pos += 45, $(".arr-icon-wrapper", $this).css("top", pos), $(".arr-icon-wrapper.left", $this).css("left", "40%"), $(".arr-icon-wrapper.right", $this).css("right", "40%"), $(".controls", $this).hide()) : (pos = parseInt($(".slide-txt-wrapper", $this).position().top + $(".slide-txt-items-bottom", $this).position().top), pos -= ($(".arr-icon-wrapper", $this).height() - $("h5.active", $this).height()) / 2, $(".arr-icon-wrapper", $this).css("top", pos), $(".arr-icon-wrapper.left", $this).css("left", ""), $(".arr-icon-wrapper.right", $this).css("right", ""), $(".controls", $this).show())
            }

            function clickHandler(event) {
                var dir;
                $(this).hasClass("right") ? dir = "next" : $(this).hasClass("left") && (dir = "prev"), s.sliding || (updateSlide(dir), aniPagina(dir))
            }

            function updateSlide(dir) {
                s.sliding || (s.sliding = !0, "next" === dir ? s.activeId >= s.numSlides - 1 ? (s.oldId = s.activeId, s.activeId = 0) : (s.oldId = s.activeId, s.activeId++) : "prev" === dir && (s.activeId <= 0 ? (s.oldId = s.activeId, s.activeId = s.numSlides - 1) : (s.oldId = s.activeId, s.activeId--)), showSlide(), showTitle(dir), $("#home-slideshow-butt a", $this).attr("href", s.linkArr[s.activeId]))
            }

            function showSlide() {
                $(".slide-img.active", $this).removeClass("active").addClass("old-active"), $(".slide-img", $this).eq(s.activeId).addClass("active").show().css("opacity", 0), TweenMax.to($(".slide-img.active", $this), s.speed, {
                    opacity: 1,
                    ease: Power2.easeInOut,
                    onComplete: showSlideComplete
                })
            }

            function showSlideComplete() {
                $(".slide-img.old-active", $this).removeClass("old-active")
            }

            function showTitle(dir) {
                var d1, d2;
                "next" === dir ? (d1 = -1, d2 = 1) : "prev" === dir && (d1 = 1, d2 = -1), TweenMax.to($("h4.active", $this), .6 * s.speed, {
                    y: d2 * s.lowerTxtOffset,
                    ease: Power2.easeInOut,
                    delay: 0
                }), TweenMax.to($("h5.active", $this), .6 * s.speed, {
                    y: d1 * s.upperTxtOffset,
                    ease: Power3.easeInOut,
                    delay: 0
                }), $("h4.active", $this).removeClass("active"), $("h5.active", $this).removeClass("active"), $("h4", $this).eq(s.activeId).addClass("active"), $("h5", $this).eq(s.activeId).addClass("active"), TweenMax.fromTo($("h4.active", $this), .6 * s.speed, {
                    y: d1 * s.lowerTxtOffset
                }, {
                    y: 0,
                    ease: Power2.easeInOut,
                    delay: 0
                }), TweenMax.fromTo($("h5.active", $this), .6 * s.speed, {
                    y: d2 * s.upperTxtOffset
                }, {
                    y: 0,
                    ease: Power3.easeInOut,
                    delay: 0,
                    onComplete: title_reset
                })
            }

            function title_reset() {
                s.sliding = !1
            }

            function aniPagina(dir) {
                var dy = "next" == dir ? 1 : -1;
                $(".controls p.curr-item", $this).addClass("old"), TweenMax.to($(".controls p.curr-item.old", $this), .6 * s.speed, {
                    top: 30 * dy,
                    ease: Power2.easeInOut
                }), $(".controls .curr-item-wrapper", $this).append("<p class='curr-item new'></p>"), $(".controls p.curr-item.new", $this).text(s.activeId + 1).css({
                    top: -30 * dy
                }), TweenMax.to($(".controls p.curr-item.new", $this), .6 * s.speed, {
                    top: 0,
                    ease: Power2.easeInOut,
                    onComplete: delPaginaDoubles
                }), $(".controls p.num-items", $this).text("/ " + s.numSlides)
            }

            function delPaginaDoubles() {
                $(".controls p.curr-item.old", $this).remove(), $(".controls p.curr-item.new", $this).removeClass("new")
            }
            var defaults = {
                    numItems: 0,
                    activeId: 0,
                    imgOrigW: 1400,
                    imgOrigH: 796,
                    sliding: !1,
                    speed: 1,
                    upperTxtOffset: 90,
                    lowerTxtOffset: 20,
                    linkArr: []
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, init = function() {
                plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = $(".home-slideshow-desktop", plugin.el), TweenMax.set($("h4:not(.active)", $this), {
                    y: -s.lowerTxtOffset
                }), TweenMax.set($("h5:not(.active)", $this), {
                    y: -s.upperTxtOffset
                }), s.numSlides = $(".slide-img", $this).length, $(window).bind("resize", resize), resize(), $(".arr-icon-wrapper.slider", $this).bind("click", clickHandler), $(".controls p.curr-item", $this).text(s.activeId + 1), $(".controls p.num-items", $this).text("/ " + s.numSlides), $("h4", $this).each(function(i) {
                    s.linkArr.push($("a", $(this)).attr("href")), $("a", $(this)).contents().unwrap()
                }), $("#home-slideshow-butt a", $this).attr("href", s.linkArr[s.activeId])
            };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                $(window).unbind("resize", resize), $(".arr-icon-wrapper.slider", $this).unbind("click", clickHandler), s.numItems = 0, s.sliding = !1, delPaginaDoubles(), s.activeId = 1
            }
        }
    }(jQuery),
    function($) {
        $.iPadGallery = function(el, options) {
            var defaults = {
                    imgW: 1325,
                    imgH: 948
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, $(window).bind("resize", resize), resize()
                },
                resize = function() {
                    var sw = $(".ipad-wrapper", $this).width(),
                        f = sw / s.imgW,
                        ff = f + .1 > 1 ? 1 : f + .1;
                    $(".referenz-ipad, .referenz-iphone-screen", $this).css({
                        width: ff * s.imgW,
                        height: ff * s.imgH
                    }), $(".ipad-wrapper", $this).height(ff * s.imgH)
                };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {}
        }
    }(jQuery),
    function($) {
        $.iPadLayer = function(el, options) {
            function remap(value, in_max, out_max) {
                var in_min = 0,
                    out_min = 2;
                return (value - in_min) * (out_max - out_min) / (in_max - in_min) + out_min
            }

            function remap2(value, in_max, out_max) {
                var in_min = 0,
                    out_min = -1;
                return (value - in_min) * (out_max - out_min) / (in_max - in_min) + out_min
            }

            function setLayer() {
                var ow = 1119,
                    aw = $("#ipad").width(),
                    f = aw / ow,
                    reW = remap(f, 1, 1);
                TweenMax.set($layer[2], {
                    y: 100 * f * reW
                }), TweenMax.set($layer[1], {
                    y: 173 * f * reW
                }), TweenMax.set($layer[0], {
                    y: 246 * f * reW
                }), $layer[2].attr("data-y-idle", 100 * f * reW), $layer[1].attr("data-y-idle", 173 * f * reW), $layer[0].attr("data-y-idle", 246 * f * reW), $layer[2].attr("data-y-off", 50 * f * reW), $layer[1].attr("data-y-off", 123 * f * reW), $layer[0].attr("data-y-off", 246 * f * reW);
                var reF = remap2(f, 1, 0),
                    ipadH = $("#ipad-body").height(),
                    superRef = ipadH * reF + 125 * reF;
                $("#svg-ipad-layer").css({
                    top: superRef
                }), TweenMax.set($("#overlay-shape"), {
                    y: 100 * f * reW - ipadH * reF * .5
                })
            }

            function mEnter(event) {
                showCurLayer($(this).parent().index(".green-layer"))
            }

            function mOut(event) {
                hideLayer($(this).parent().index(".green-layer"))
            }

            function showCurLayer(index) {
                for (i = $(".green-layer", $this).length - 1; i >= 0; i--)
                    if (i != index)
                        if (0 === index) {
                            var tweenY, offY = $layer[i].attr("data-y-off"),
                                idleY = $layer[i].attr("data-y-idle");
                            $layer[i].attr("data-y-current");
                            tweenY = offY, TweenMax.fromTo($layer[i], s.speed, {
                                y: idleY
                            }, {
                                y: tweenY,
                                ease: s.ease,
                                onUpdate: onUpdate,
                                onUpdateParams: ["{self}"]
                            }), transLine(i, s.speed)
                        } else if (1 === index) {
                            var tweenY, offY = $layer[2].attr("data-y-off"),
                                idleY = $layer[2].attr("data-y-idle");
                            $layer[2].attr("data-y-current");
                            tweenY = offY, TweenMax.fromTo($layer[2], s.speed, {
                                y: idleY
                            }, {
                                y: tweenY,
                                ease: s.ease,
                                onUpdate: onUpdate,
                                onUpdateParams: ["{self}"]
                            }), transLine(2, s.speed)
                        }
                TweenMax.to($layer[index], s.speed, {
                    opacity: 1,
                    ease: Power2.easeInOut
                }), TweenMax.to($(".image-svg", $this).eq(index), s.speed, {
                    opacity: 1,
                    ease: Power2.easeInOut
                })
            }

            function hideLayer(index) {
                for (i = $(".green-layer", $this).length - 1; i >= 0; i--)
                    if (i != index)
                        if (0 === index) {
                            var tweenY, idleY = ($layer[i].attr("data-y-off"), $layer[i].attr("data-y-idle")),
                                curY = $layer[i].attr("data-y-current");
                            tweenY = curY, TweenMax.fromTo($layer[i], s.speed, {
                                y: tweenY
                            }, {
                                y: idleY,
                                ease: s.ease,
                                onUpdate: onUpdate,
                                onUpdateParams: ["{self}"]
                            }), transLineBack(i, s.speed)
                        } else if (1 === index) {
                            var tweenY, idleY = ($layer[2].attr("data-y-off"), $layer[2].attr("data-y-idle")),
                                curY = $layer[2].attr("data-y-current");
                            tweenY = curY, TweenMax.fromTo($layer[2], s.speed, {
                                y: tweenY
                            }, {
                                y: idleY,
                                ease: s.ease,
                                onUpdate: onUpdate,
                                onUpdateParams: ["{self}"]
                            }), transLineBack(2, s.speed)
                        }
                TweenMax.to($layer[index], s.speed, {
                    opacity: .75,
                    ease: Power2.easeInOut
                }), TweenMax.to($(".image-svg", $this).eq(index), s.speed, {
                    opacity: 0,
                    ease: Power2.easeInOut
                })
            }

            function transLine(id, speed) {}

            function transLineBack(id, speed) {}

            function onUpdate(tween) {
                var obj = tween.target[0],
                    curY = tween.target[0]._gsTransform.y;
                $(obj).attr("data-y-current", curY)
            }
            var defaults = {
                    speed: .6,
                    ease: Back.easeOut.config(1.5)
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, $layer = [],
                init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, $(".green-layer", $this).each(function(i) {
                        $layer[i] = $(this)
                    }), setLayer(), $(".st3", $this).bind("mouseenter", mEnter), $(".st3", $this).bind("mouseleave", mOut), $(window).bind("resize", setLayer)
                };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                s.speed = .6, s.ease = Back.easeOut.config(1.5), $layer = null, $(".st3", $this).unbind("mouseenter", mEnter), $(".st3", $this).unbind("mouseleave", mOut), $(window).unbind("resize", setLayer)
            }
        }
    }(jQuery),
    function($) {
        $.imgClusterControl = function(el, options) {
            var defaults = {
                    speed: .75,
                    ease: Power2.easeInOut
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, $(window).bind("resize", setImg), setImg()
                },
                setImg = function() {
                    var w = $(".img-cluster-frame.absolute").width(),
                        h = $(".img-cluster-frame.absolute").height();
                    $(".img-cluster-frame.absolute").css({
                        "margin-left": .5 * -w,
                        "margin-top": .5 * -h
                    })
                };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                $(window).unbind("resize", setImg)
            }
        }
    }(jQuery),
    function($) {
        $.introScroll = function(el, options) {
            function forceToTop() {
                $(window).scrollTop(0)
            }

            function posVid() {
                var h = .667 * $("#intro").find(".inner").width();
                TweenMax.set($("#vid-wrapper"), {
                    marginTop: -h / 2
                });
                var innerH = $("#cont-sec-1").find("> .inner").height();
                TweenMax.set($("#cont-sec-1").find("> .inner"), {
                    marginTop: -(innerH / 2 - 70)
                });
                var hlH = $("#intro .inner-inner").height();
                TweenMax.set($("#intro .inner-inner"), {
                    marginTop: -(hlH / 2)
                })
            }

            function scrollHandler() {
                var scroll = $(window).scrollTop();
                scroll >= 0 && !s.triggered && (startIntroAnimation(), s.triggered = !0, $(window).unbind("mousewheel DOMMouseScroll", mwheelHandler), $(window).bind("mousewheel DOMMouseScroll", preventScroll)), 0 >= scroll && s.triggered && (startIntroAnimation("reverse"), $(window).bind("mousewheel DOMMouseScroll", preventScroll), $(window).unbind("mousewheel DOMMouseScroll", mwheelHandler), $(window).unbind("mousewheel DOMMouseScroll", checkScroll))
            }

            function mwheelHandler(event) {
                s.triggered || "down" === s.scrollDir && startIntroAnimation()
            }

            function wheelCheck(event) {
                s.deltaSumInitOnce && (s.deltaSumInitOnce = !1, setTimeout(checkDeltaSum, 100)), s.deltaSum += event.originalEvent.wheelDelta
            }

            function preventScroll(event) {
                return event.preventDefault(), !1
            }

            function clickStart() {
                isTouch() ? TweenMax.to(window, 1, {
                    scrollTo: {
                        y: $("#sec-wrapper").offset().top + 70
                    },
                    ease: Power2.easeInOut
                }) : (s.scrollDir = "down", startIntroAnimation())
            }

            function startIntroAnimation(dir) {
                var open = contentController.checkBurgerOpen();
                open || (s.triggered = !0, $(window).unbind("mousewheel DOMMouseScroll", mwheelHandler), $(window).bind("mousewheel DOMMouseScroll", preventScroll), "reverse" != dir ? (TweenMax.fromTo($("#vid-wrapper"), s.speed, {
                    y: "0%",
                    opacity: 1,
                    display: "block"
                }, {
                    y: "-25%",
                    opacity: 0,
                    display: "none",
                    ease: Power2.easeInOut
                }), TweenMax.fromTo($("h1.big"), s.speed, {
                    y: "0%",
                    opacity: 1,
                    display: "block"
                }, {
                    y: "-75%",
                    opacity: 0,
                    display: "none",
                    ease: Power2.easeInOut,
                    delay: .15
                }), TweenMax.fromTo($("#intro"), s.speed, {
                    y: "0%",
                    opacity: 1,
                    display: "block"
                }, {
                    y: "-100%",
                    opacity: 0,
                    ease: Power2.easeInOut,
                    delay: .35
                }), TweenMax.fromTo($("#sec-wrapper"), s.speed, {
                    y: "100%",
                    opacity: 0
                }, {
                    y: "0%",
                    opacity: 1,
                    ease: Power2.easeInOut,
                    delay: .65,
                    onComplete: afterTween
                })) : (TweenMax.fromTo($("#vid-wrapper"), s.speed, {
                    y: "-25%",
                    opacity: 0,
                    display: "none"
                }, {
                    y: "0%",
                    opacity: 1,
                    display: "block",
                    ease: Power2.easeInOut,
                    delay: .65
                }), TweenMax.fromTo($("h1.big"), s.speed, {
                    y: "-75%",
                    opacity: 0,
                    display: "none"
                }, {
                    y: "0%",
                    opacity: 1,
                    display: "block",
                    ease: Power2.easeInOut,
                    delay: .35
                }), TweenMax.fromTo($("#intro"), s.speed, {
                    y: "-100%",
                    opacity: 1,
                    display: "none"
                }, {
                    y: "0%",
                    opacity: 1,
                    display: "block",
                    ease: Power2.easeInOut,
                    delay: .15
                }), TweenMax.fromTo($("#sec-wrapper"), s.speed, {
                    y: "0%",
                    opacity: 1
                }, {
                    y: "100%",
                    opacity: 0,
                    ease: Power2.easeInOut,
                    onComplete: afterReTween
                })))
            }

            function checkScroll() {
                var scroll = $(window).scrollTop();
                0 >= scroll && "up" === s.scrollDir && (startIntroAnimation("reverse"), $(window).bind("mousewheel DOMMouseScroll", preventScroll), $(window).unbind("mousewheel DOMMouseScroll", mwheelHandler), $(window).unbind("mousewheel DOMMouseScroll", checkScroll))
            }

            function afterTween() {
                s.isTweening = !1, $(window).unbind("mousewheel DOMMouseScroll", mwheelHandler), $(window).unbind("mousewheel DOMMouseScroll", preventScroll), s.arr = [], $(window).bind("mousewheel DOMMouseScroll", checkScroll)
            }

            function afterReTween() {
                s.isTweening = !1, s.triggered = !1, $(window).bind("mousewheel DOMMouseScroll", mwheelHandler), $(window).unbind("mousewheel DOMMouseScroll", preventScroll), $(window).unbind("mousewheel DOMMouseScroll", checkScroll)
            }

            function checkDeltaSum() {
                s.deltaSum > 0 ? s.scrollDir = "up" : s.scrollDir = "down", s.deltaSum = 0, s.deltaSumInitOnce = !0
            }
            var defaults = {
                    isTweening: !1,
                    speed: 1,
                    triggered: !1,
                    scrollDir: null,
                    deltaSum: 0,
                    deltaSumInitOnce: !0
                },
                plugin = this;
            plugin.settings = {};
            var s, $this;
            plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el;
            var init = function() {
                $(window).bind("beforeunload", forceToTop), isTouch() ? $("#intro").css("position", "relative") : ($(window).bind("mousewheel DOMMouseScroll", mwheelHandler), $(window).bind("mousewheel DOMMouseScroll", wheelCheck), $(window).bind("scroll", scrollHandler)), $("#vid-arr").bind("click", clickStart), posVid(), $(window).bind("resize", posVid);
                var userAgent = window.navigator.userAgent;
                (userAgent.match(/iPad/i) || userAgent.match(/iPhone/i)) && $("#vid-arr").css("bottom", 80)
            };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                isTouch() || ($(window).unbind("mousewheel DOMMouseScroll", mwheelHandler), $(window).unbind("mousewheel DOMMouseScroll", checkScroll), $(window).unbind("mousewheel DOMMouseScroll", preventScroll), $(window).unbind("mousewheel DOMMouseScroll", wheelCheck), $(window).unbind("scroll", scrollHandler), $(window).unbind("beforeunload", forceToTop)), s.isTweening = !1, s.speed = 1, s.triggered = !1, s.scrollDir = null, s.deltaSum = 0, s.deltaSumInitOnce = !0, $(window).unbind("resize", posVid), $("#vid-arr").unbind("click", clickStart), $(window).unbind("mousewheel DOMMouseScroll", mwheelHandler)
            }
        }
    }(jQuery),
    function($) {
        $.iphoneColor = function(el, options) {
            var defaults = {
                    speed: .5,
                    activeId: 0,
                    autoplayInterval: null,
                    timeout: 6e3,
                    numItems: 0,
                    color: []
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, s.numItems = $(".bt-iphone-screen", $this).length, $(".bt-iphone-screen", $this).each(function(i) {
                        s.color[i] = $(this).attr("data-color")
                    }), TweenMax.set($($this), {
                        backgroundColor: s.color[s.activeId]
                    }), startAutoplay()
                },
                startAutoplay = function() {
                    s.autoplayInterval = setInterval(autoplay, s.timeout)
                },
                autoplay = function() {
                    s.activeId >= s.numItems - 1 ? s.activeId = 0 : s.activeId++, $(".bt-iphone-screen.active", $this).removeClass("active").addClass("oldActive"), TweenMax.to($($this), 6 * s.speed, {
                        backgroundColor: s.color[s.activeId],
                        ease: Power2.easeInOut
                    }), $(".bt-iphone-screen", $this).eq(s.activeId).addClass("active").css("opacity", 0), TweenMax.to($(".bt-iphone-screen.active", $this), 3 * s.speed, {
                        opacity: 1,
                        delay: 1.5,
                        ease: Quad.easeInOut,
                        onComplete: function() {
                            $(".bt-iphone-screen.oldActive", $this).removeClass("oldActive")
                        }
                    })
                };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                clearInterval(s.autoplayInterval), s.autoplayInterval = null, s.speed = .5, s.activeId = 0, s.numItems = 0
            }
        }
    }(jQuery),
    function($) {
        $.iphoneScreens = function(el, options) {
            var defaults = {
                    speed: .5,
                    activeId: 0,
                    autoplayInterval: null,
                    numItems: 0
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, s.numItems = $(".referenz-ol-li", $this).length, $(".referenz-ol-li", $this).bind("mouseenter", stopAutoplay), $(".referenz-ol-li", $this).bind("mouseenter", switchScreen), $(".referenz-ol", $this).bind("mouseleave", startAutoplay), $(window).bind("scroll", checkScroll)
                },
                checkScroll = function() {
                    var offTop = $($this).offset().top,
                        scroll = $(window).scrollTop() + .9 * $(window).height();
                    scroll >= offTop && (startAutoplay(), $(window).unbind("scroll", checkScroll))
                },
                switchScreen = function() {
                    s.activeId = $(this).index(".referenz-ol-li", $this), $(".referenz-iphone-screen.active", $this).removeClass("active").addClass("oldActive"), $(".referenz-ol-li.active", $this).removeClass("active").addClass("oldActive"), $(".referenz-ol-li", $this).eq(s.activeId).addClass("active"), $(".referenz-iphone-screen", $this).eq(s.activeId).addClass("active").css("opacity", 0), TweenMax.to($(".referenz-iphone-screen.oldActive", $this), s.speed, {
                        opacity: 0,
                        ease: Quad.easeInOut
                    }), TweenMax.to($(".referenz-iphone-screen.active", $this), s.speed, {
                        opacity: 1,
                        ease: Quad.easeInOut,
                        onComplete: function() {
                            $(".referenz-iphone-screen.oldActive", $this).removeClass("oldActive")
                        }
                    })
                },
                startAutoplay = function() {
                    s.autoplayInterval = setInterval(autoplay, 7500)
                },
                autoplay = function() {
                    s.activeId >= s.numItems - 1 ? s.activeId = 0 : s.activeId++, $(".referenz-iphone-screen.active", $this).removeClass("active").addClass("oldActive"), $(".referenz-ol-li.active", $this).removeClass("active").addClass("oldActive"), $(".referenz-ol-li", $this).eq(s.activeId).addClass("active"), $(".referenz-iphone-screen", $this).eq(s.activeId).addClass("active").css("opacity", 0), TweenMax.to($(".referenz-iphone-screen.oldActive", $this), s.speed, {
                        opacity: 0,
                        ease: Quad.easeInOut
                    }), TweenMax.to($(".referenz-iphone-screen.active", $this), s.speed, {
                        opacity: 1,
                        ease: Quad.easeInOut,
                        onComplete: function() {
                            $(".referenz-iphone-screen.oldActive", $this).removeClass("oldActive")
                        }
                    })
                },
                stopAutoplay = function() {
                    clearInterval(s.autoplayInterval), s.autoplayInterval = null
                };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                clearInterval(s.autoplayInterval), s.autoplayInterval = null, s.speed = .5, s.activeId = 0, s.numItems = 0, $(".referenz-ol-li", $this).unbind("mouseenter", stopAutoplay), $(".referenz-ol-li", $this).unbind("mouseenter", switchScreen), $(".referenz-ol", $this).unbind("mouseleave", startAutoplay), $(window).unbind("scroll", checkScroll)
            }
        }
    }(jQuery),
    function($) {
        $.kontaktMap = function(el, options) {
            var defaults = {},
                plugin = this;
            plugin.settings = {};
            var s, $this;
            plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el;
            var init = function() {
                gMapsLoaded ? initMap() : $.getScript("https://maps.googleapis.com/maps/api/js?key=AIzaSyCFom3xnx-o8hjpVMtYWXjgZAA0bnOAjqQ&sensor=false&callback=googleMapsLoaded", function() {})
            };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {}
        }
    }(jQuery);
var gMapsLoaded = !1;
! function($) {
    $.miniArrIcon = function(el, options) {
        function mEnter() {
            s.playing = !0, s.stop = !1, hoverTL.restart()
        }

        function mOut() {
            s.stop = !0
        }

        function triScale(element, tl, speed, endPoints, ease) {
            var ease = ease,
                startPoints = [],
                endPoints = endPoints;
            startPoints = $(element).attr("points"), startPoints = startPoints.split(/[\s,]+/);
            for (var i = 0; i < startPoints.length; i++) startPoints[i] = parseFloat(startPoints[i]);
            var propStr = endPoints.join(" "),
                nth = 0;
            propStr = propStr.replace(/ /g, function(match, i, original) {
                return nth++, nth % 2 == 1 ? "," : match
            }), tl.clear(), tl.to(element, s.speed, {
                attr: {
                    points: propStr
                },
                ease: ease
            })
        }

        function stopOrNot() {
            s.playing = !1, hoverTL.pause()
        }

        function buildTriSmall() {
            s.playing && triScale($tri, transPointTL[0], .5 * s.speed, [6, 30, 6, 38, 6, 30], Power1.easeInOut)
        }

        function buildTriSmall2() {
            s.playing && triScale($tri, transPointTL[2], .5 * s.speed, [2, 30, 6, 38, 10, 30], Power2.easeOut)
        }

        function buildTriBig() {
            s.playing && triScale($tri, transPointTL[1], s.speed, [0, 30, 6, 38, 12, 30], Power2.easeIn)
        }
        var defaults = {
                playing: !1,
                speed: .3,
                stop: !1,
                onSomeEvent: function() {}
            },
            plugin = this;
        plugin.settings = {};
        var s, $this, $line, $tri, hoverTL, lineHideTL, yTransTri, yTransTriTop1, yTransTriTop2, lineShowTL1, lineShowTL2, fixStr, transPointTL = [],
            init = function() {
                plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, $tri = $(".arr-tri", $this), $line = $(".arr-line", $this), transPointTL[0] = new TimelineMax({}), transPointTL[1] = new TimelineMax({}), transPointTL[2] = new TimelineMax({}), Modernizr.touchevents || ($this.bind("mouseenter", mEnter), $this.bind("mouseleave", mOut)), fixStr = {
                    z: .1,
                    rotationZ: .01,
                    force3D: !0
                }, TweenMax.set([$line, $tri], fixStr), lineHideTL = new TimelineMax({}), lineHideTL.to($line, 1.25 * s.speed, {
                    drawSVG: "100% 100%",
                    ease: Power1.easeInOut
                }, 0), lineShowTL1 = new TimelineMax({}), lineShowTL1.fromTo($line, 1.25 * s.speed, {
                    drawSVG: "0% 0%"
                }, {
                    drawSVG: "0% 30%",
                    immediateRender: !1,
                    ease: Power1.easeInOut
                }, 0), lineShowTL2 = new TimelineMax({}), lineShowTL2.to($line, 1.25 * s.speed, {
                    drawSVG: "0% 100%",
                    ease: Power1.easeInOut
                }, 0), yTransTri = new TimelineMax({}), yTransTri.fromTo($tri, s.speed, {
                    y: 0
                }, {
                    y: 15,
                    ease: Power1.easeInOut
                }, 0), yTransTriTop1 = new TimelineMax({}), yTransTriTop1.fromTo($tri, 1.25 * s.speed, {
                    y: -65
                }, {
                    y: -40,
                    immediateRender: !1,
                    ease: Power1.easeInOut
                }, 0), yTransTriTop2 = new TimelineMax({}), yTransTriTop2.to($tri, 1.25 * s.speed, {
                    y: 0,
                    ease: Power1.easeInOut
                }, 0), hoverTL = new TimelineMax({
                    paused: !0,
                    onComplete: stopOrNot
                }), hoverTL.add(lineHideTL, 0).addCallback(buildTriSmall, "-=0.2").add(transPointTL[0], "-=0.2").add(yTransTri, "-=.15").add(yTransTriTop1, "-=0").add(lineShowTL1, "-=" + 1.25 * s.speed).addCallback(buildTriBig, "-=" + 1.25 * s.speed).add(transPointTL[1], "-=" + 1.25 * s.speed).add(yTransTriTop2, "-=" + s.speed).add(lineShowTL2, "-=" + 1.25 * s.speed).addCallback(buildTriSmall2, "-=" + s.speed).add(transPointTL[2], "-=" + s.speed)
            };
        plugin.initPlugin = function() {
            init()
        }, plugin.destroyPlugin = function() {
            lineShowTL2 = null, transPointTL[0], transPointTL[1], transPointTL[2] = null, $line = null, $this.unbind("mouseenter", mEnter), $this.unbind("mouseleave", mOut)
        }
    }
}(jQuery),
    function($) {
        $.mobileRef = function(el, options) {
            var defaults = {
                    hlX: 0,
                    hlY: 0,
                    tagsX: 0,
                    tagY: 0,
                    vw: 0,
                    mobileBP: 700
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, checkBP(), $(window).bind("resize", checkBP), $(window).bind("triggerMobileOverview", checkBP)
                },
                checkBP = function() {
                    s.vw = window.innerWidth, s.vw <= s.mobileBP ? ($(window).bind("resize", resize), resize(), $("#cont").hasClass("referenzen") && $("#footer").show()) : ($("#cont").hasClass("referenzen") && $("#footer").hide(), $(window).unbind("resize", resize))
                },
                resize = function() {
                    if ("mobile-referenzen" != $this.attr("id")) {
                        var hlH = $("h4", $this).height(),
                            hlW = $("h4", $this).width();
                        s.hlX = .5 * hlW, s.hlY = .5 * hlH, $("h4", $this).css({
                            "margin-left": -s.hlX,
                            "margin-top": -s.hlY
                        });
                        var tagsH = $("h5", $this).height(),
                            tagsW = $("h5", $this).width();
                        s.tagsX = .5 * tagsW, s.tagsY = .5 * tagsH, $("h5", $this).css({
                            "margin-left": -s.tagsX,
                            "margin-top": -s.tagsY
                        })
                    }
                };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                $(window).unbind("resize", resize), $(window).unbind("resize", checkBP), $(window).unbind("triggerMobileOverview", checkBP)
            }
        }
    }(jQuery),
    function($) {
        $.navigation = function(el, options) {
            function setHoverArr() {
                s.entered = !0;
                var index = $(this).index("li"),
                    activeId = $("#main-menu").find("li.active").index("li"),
                    dist = Math.abs($(this).index("li") - $("#main-menu").find("li.active").index("li"));
                0 === dist && (dist = 1);
                var speed = .3;
                activeId === index ? (TweenMax.killTweensOf($(".arr-icon-wrapper.menu.hover")), TweenMax.to($(".arr-icon-wrapper.menu.hover").eq(0), speed, {
                    top: s.offsets[index],
                    ease: Power2.easeInOut
                }), TweenMax.to($(".arr-icon-wrapper.menu.hover").eq(0), .5 * speed, {
                    opacity: 0,
                    ease: Power2.easeInOut,
                    delay: .1
                })) : (TweenMax.killTweensOf($(".arr-icon-wrapper.menu.hover")), TweenMax.to($(".arr-icon-wrapper.menu.hover").eq(0), .75 * speed, {
                    opacity: .5,
                    ease: Power2.easeInOut
                }), TweenMax.to($(".arr-icon-wrapper.menu.hover").eq(0), speed, {
                    top: s.offsets[index],
                    ease: Power2.easeInOut
                }), enterText(index))
            }

            function setOut() {
                s.entered = !1, setTimeout(function() {
                    if (!s.entered) {
                        var index = $("#main-menu").find("li.active").index("li"),
                            dist = Math.abs($(this).index("li") - $("#main-menu").find("li.active").index("li"));
                        0 === dist && (dist = 1);
                        var speed = .3;
                        TweenMax.killTweensOf($(".arr-icon-wrapper.menu.hover")), TweenMax.to($(".arr-icon-wrapper.menu.hover"), 2 * speed, {
                            top: s.offsets[index],
                            ease: Power2.easeInOut,
                            delay: .1
                        }), TweenMax.to($(".arr-icon-wrapper.menu.hover"), speed, {
                            opacity: 0,
                            ease: Power2.easeInOut,
                            delay: .35
                        })
                    }
                }, 100);
                var index = $(this).index("li");
                leaveText(index)
            }

            function enterText(index) {
                TweenMax.to($("#main-menu").find("li").eq(index), .4, {
                    opacity: .5,
                    ease: Power2.easeInOut
                })
            }

            function leaveText(index) {
                TweenMax.to($("#main-menu").find("li").eq(index), .4, {
                    opacity: 1,
                    ease: Power2.easeInOut
                })
            }
            var defaults = {
                    playing: !1,
                    speed: .3,
                    stop: !1,
                    offsets: [],
                    entered: !1
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, init = function() {
                plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, plugin.initSetArr(), isTouch() || ($("#main-menu").find("li").bind("mouseenter", setHoverArr), $("#main-menu").find("li").bind("mouseleave", setOut)), $(window).bind("resize", plugin.initSetArr), $(document).on("triggerMenu", plugin.initSetArr)
            };
            plugin.initSetArr = function() {
                var yPos = .5 * ($(window).height() - $("#main-menu").height());
                $("#main-menu").css({
                    "margin-top": yPos
                });
                $("#main-menu").offset().top;
                $("#main-menu").find("li").each(function(i) {
                    var offsetTop = $("#main-menu").find("li").eq(i).offset().top,
                        liH = .5 * $("#main-menu").find("li").eq(i).height();
                    s.offsets[i] = offsetTop + liH
                });
                var index = $("#main-menu").find("li.active").index("li");
                $("#cont").hasClass("referenzen") && (index = 3), -1 != index ? TweenMax.set($(".arr-icon-wrapper.menu"), {
                    top: s.offsets[index]
                }) : TweenMax.set($(".arr-icon-wrapper.menu"), {
                    top: -999
                })
            }, plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                s.playing = !1, s.speed = .3, s.stop = !1, s.offsets = [], s.entered = !1, $("#main-menu").find("li").unbind("mouseenter", setHoverArr), $("#main-menu").find("li").unbind("mouseleave", setOut), $(window).unbind("resize", plugin.initSetArr)
            }
        }
    }(jQuery),
    function($) {
        $.newsletter = function(el, options) {
            var defaults = {
                    loaderTL: null,
                    nlAjax: null,
                    formMsgOrig: {
                        de: {
                            invalid: "<span class='error'>Bitte geben Sie eine gltige E-Mailadresse ein.<span>",
                            errorMsg: "<span class='error'>Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.<span>",
                            alreadyRegistered: "<span class='error'>Sie haben sich schon fr diesen Newsletter angemeldet.<span>",
                            success: "<span class='success'>Vielen Dank! Um Ihre Anmeldung abzuschlieen, klicken Sie bitte auf den Link in der E-Mail, die wir soeben an Sie gesendet haben.<span>"
                        },
                        en: {
                            invalid: "<span class='error'>Please enter a valid email address.<span>",
                            errorMsg: "<span class='error'>Error. Please try again.<span>",
                            alreadyRegistered: "<span class='error'>You are already subscribed to our newsletter.<span>",
                            success: "<span class='success'>Thank you! To complete your subscription, please click the link in the email we just sent you.<span>"
                        },
                        labelDefault: ""
                    }
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, s.formMsg = $this.hasClass("en") ? s.formMsgOrig.en : s.formMsgOrig.de, $("#input-mail", $this).focus(function() {
                        TweenMax.to($(".input-label-content", $this), .4, {
                            y: -30,
                            ease: Power2.easeInOut
                        })
                    }), $("#input-mail", $this).blur(function() {
                        var input = $(this).val();
                        "" === input && TweenMax.to($(".input-label-content", $this), .4, {
                            y: -0,
                            ease: Power2.easeInOut
                        })
                    }), $(".form-feedback").css({
                        opacity: 0
                    }), $(".subhead.right.submit", $this).bind("click", submitEmail)
                },
                submitEmail = function() {
                    $(".subhead.right.submit", $this).unbind("click", submitEmail), fadeInLoader(), fadeOutFeedback();
                    var email_user = $("#input-mail", $this).val();
                    isValidEmailAddress(email_user) ? s.nlAjax = $.ajax({
                        type: "POST",
                        url: "/php/user.php",
                        data: {
                            email: email_user,
                            lang: $this.hasClass("en") ? "en" : "de"
                        },
                        dataType: "json",
                        success: function(data) {
                            data.success ? ($(".form-feedback", $this).html(s.formMsg.success), $("#input-mail", $this).val(""), TweenMax.to($(".input-label-content", $this), .4, {
                                y: -0,
                                ease: Power2.easeInOut
                            })) : "You're already subscribed." == data.message ? $(".form-feedback", $this).html(s.formMsg.alreadyRegistered) : $(".form-feedback", $this).html(s.formMsg.errorMsg), fadeInFeedback()
                        },
                        error: function(xhr, status, error) {
                            console.log("error xhr: " + xhr), console.log("error status: " + status), console.log("error: " + error), $(".form-feedback", $this).html(s.formMsg.errorMsg), fadeInFeedback()
                        }
                    }) : ($(".form-feedback", $this).html(s.formMsg.invalid), fadeInFeedback())
                },
                fadeInLoader = function() {
                    TweenMax.to($(".submit-txt", $this), .2, {
                        opacity: .4,
                        ease: Power2.easeInOut
                    }), $(".svg-loader", $this).show().css("opacity", 0), TweenMax.to($(".svg-loader", $this), .3, {
                        opacity: 1,
                        ease: Power2.easeInOut
                    }), s.loaderTL = new TimelineMax({
                        repeat: -1
                    }), fill_path = $(".loader-circle", $this), fill_duration = 1, fill_position = "-=0", s.loaderTL.fromTo(fill_path, fill_duration, {
                        drawSVG: "0% 0%"
                    }, {
                        drawSVG: "0% 100%",
                        ease: Linear.easeNone
                    }, fill_position).to(fill_path, fill_duration, {
                        drawSVG: "100% 100%",
                        ease: Linear.easeNone
                    }, fill_position), TweenMax.fromTo(".svg-loader", 1.75, {
                        rotation: 0
                    }, {
                        rotation: 360,
                        repeat: -1,
                        ease: Linear.easeNone
                    })
                },
                fadeOutLoader = function() {
                    TweenMax.to($(".svg-loader"), .3, {
                        opacity: 0,
                        ease: Power2.easeInOut,
                        onComplete: plugin.resetTweens
                    })
                };
            plugin.resetTweens = function() {
                s.loaderTL.pause(0, !0), s.loaderTL = null, TweenMax.killTweensOf(".svg-loader", $this), TweenMax.killTweensOf(".loader-circle", $this)
            };
            var fadeInFeedback = function() {
                    $(".subhead.right.submit", $this).bind("click", submitEmail), TweenMax.to($(".submit-txt", $this), .2, {
                        opacity: 1,
                        ease: Power2.easeInOut
                    }), fadeOutLoader(), TweenMax.to($(".form-feedback"), .3, {
                        opacity: 1,
                        ease: Power2.easeInOut
                    })
                },
                fadeOutFeedback = function() {
                    TweenMax.to($(".form-feedback"), .2, {
                        opacity: 0,
                        ease: Power2.easeInOut
                    })
                },
                isValidEmailAddress = function(emailAddress) {
                    var pattern = /^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;
                    return pattern.test(emailAddress)
                };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                $(".subhead.right.submit", $this).unbind("click")
            }
        }
    }(jQuery),
    function($) {
        $.newsletterFooter = function(el, options) {
            var defaults = {
                    loaderTL: null,
                    h: 250,
                    nlAjax: null,
                    isComplete: !1,
                    defaultCopy: "Convoy keeps you updated. Abonnieren Sie unseren Newsletter.",
                    formMsgOrig: {
                        de: {
                            invalid: "<span class='error'>Bitte geben Sie eine gltige E-Mailadresse ein.<span>",
                            errorMsg: "<span class='error'>Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.<span>",
                            alreadyRegistered: "<span class='error'>Sie haben sich schon fr diesen Newsletter angemeldet.<span>",
                            success: "<span class='success'>Vielen Dank! Um Ihre Anmeldung abzuschlieen, klicken Sie bitte auf den Link in der E-Mail, die wir soeben an Sie gesendet haben.<span>"
                        },
                        en: {
                            invalid: "<span class='error'>Please enter a valid email address.<span>",
                            errorMsg: "<span class='error'>Error. Please try again.<span>",
                            alreadyRegistered: "<span class='error'>You are already subscribed to our newsletter.<span>",
                            success: "<span class='success'>Thank you! To complete your subscription, please click the link in the email we just sent you.<span>"
                        }
                    },
                    formMsg: {}
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, s.formMsg = $this.hasClass("en") ? s.formMsgOrig.en : s.formMsgOrig.de, $("#footer .txt.newsletter").click(function(e) {
                        e.preventDefault(), $(this).hasClass("active") ? ($(this).removeClass("active"), TweenMax.to($this, .5, {
                            height: 0,
                            ease: Power2.easeInOut,
                            onComplete: resetOnClose
                        })) : ($(this).addClass("active"), TweenMax.to($this, .5, {
                            height: s.h,
                            ease: Power2.easeInOut,
                            onUpdate: scrollToBottom
                        }))
                    }), $("#input-mail", $this).focus(function() {
                        TweenMax.to($(".input-label-content", $this), .2, {
                            opacity: 0,
                            ease: Power2.easeInOut
                        })
                    }), $("#input-mail", $this).blur(function() {
                        var input = $(this).val();
                        "" === input && TweenMax.to($(".input-label-content", $this), .2, {
                            opacity: 1,
                            ease: Power2.easeInOut
                        })
                    }), $(".submit", $this).bind("click", submitEmail), $(".icon-close", $this).bind("click", closeOverlay)
                },
                scrollToBottom = function() {
                    $(window).scrollTop($(document).height())
                },
                submitEmail = function() {
                    $(".submit", $this).unbind("click", submitEmail), fadeInLoader(), fadeOutFeedback();
                    var email_user = $("#input-mail", $this).val();
                    isValidEmailAddress(email_user) ? s.nlAjax = $.ajax({
                        type: "POST",
                        url: "/php/user.php",
                        data: {
                            email: email_user,
                            lang: $this.hasClass("en") ? "en" : "de"
                        },
                        dataType: "json",
                        success: function(data) {
                            data.success ? ($(".copy", $this).html(s.formMsg.success), $("#input-mail", $this).val(""), successFadeOut()) : "You're already subscribed." == data.message ? $(".copy", $this).html(s.formMsg.alreadyRegistered) : $(".copy", $this).html(s.formMsg.errorMsg), fadeInFeedback()
                        },
                        error: function(xhr, status, error) {
                            console.log("error xhr: " + xhr), console.log("error status: " + status), console.log("error: " + error), $(".copy", $this).html(s.formMsg.errorMsg), fadeInFeedback()
                        }
                    }) : ($(".copy", $this).html(s.formMsg.invalid), fadeInFeedback())
                },
                closeOverlay = function() {
                    $("#footer .txt.newsletter").removeClass("active"), TweenMax.to($this, .5, {
                        height: 0,
                        ease: Power2.easeInOut,
                        onComplete: resetOnClose
                    })
                },
                resetOnClose = function() {
                    s.isComplete = !1, $(".copy", $this).html(s.defaultCopy), $(".submit, .input", $this).show(), $(".input-label-content", $this).css({
                        opacity: 1
                    }), $("#input-mail", $this).val("")
                },
                successFadeOut = function() {
                    $(".submit, .input", $this).hide(), s.isComplete = !0
                },
                fadeInLoader = function() {
                    TweenMax.to($(".submit-txt", $this), .2, {
                        opacity: .4,
                        ease: Power2.easeInOut
                    }), $(".svg-loader", $this).show().css("opacity", 0), TweenMax.to($(".svg-loader", $this), .3, {
                        opacity: 1,
                        ease: Power2.easeInOut
                    }), s.loaderTL = new TimelineMax({
                        repeat: -1
                    }), fill_path = $(".loader-circle", $this), fill_duration = 1, fill_position = "-=0", s.loaderTL.fromTo(fill_path, fill_duration, {
                        drawSVG: "0% 0%"
                    }, {
                        drawSVG: "0% 100%",
                        ease: Linear.easeNone
                    }, fill_position).to(fill_path, fill_duration, {
                        drawSVG: "100% 100%",
                        ease: Linear.easeNone
                    }, fill_position), TweenMax.fromTo(".svg-loader", 1.75, {
                        rotation: 0
                    }, {
                        rotation: 360,
                        repeat: -1,
                        ease: Linear.easeNone
                    })
                },
                fadeOutLoader = function() {
                    console.log("fadeOut preloader"), TweenMax.to($(".svg-loader"), .3, {
                        opacity: 0,
                        ease: Power2.easeInOut,
                        onComplete: plugin.resetTweens
                    })
                };
            plugin.resetTweens = function() {
                s.loaderTL.pause(0, !0), s.loaderTL = null, TweenMax.killTweensOf(".svg-loader", $this), TweenMax.killTweensOf(".loader-circle", $this)
            };
            var fadeInFeedback = function() {
                    console.log("fadeInFeedback:########"), $(".submit", $this).bind("click", submitEmail), TweenMax.to($(".submit-txt", $this), .2, {
                        opacity: 1,
                        ease: Power2.easeInOut
                    }), fadeOutLoader()
                },
                fadeOutFeedback = function() {},
                isValidEmailAddress = function(emailAddress) {
                    var pattern = /^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;
                    return pattern.test(emailAddress)
                };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                $(".submit", $this).unbind("click")
            }
        }
    }(jQuery),
    function($) {
        $.paraHeader = function(el, options) {
            function resizeImg() {
                if ($(".slide-img", $this).length > 0) {
                    var ix, iy, ih, iw, vw = $(".project-slide", $this).width(),
                        vh = $(".project-slide", $this).height(),
                        ow = 1680,
                        oh = 1050,
                        factorW = vw / ow,
                        factorH = vh / oh;
                    factorH > factorW ? (iw = factorH * ow, ih = factorH * oh) : (iw = factorW * ow, ih = factorW * oh), ix = .5 * (vw - iw), iy = .5 * (vh - ih), $(".slide-img", $this).css({
                        width: iw,
                        height: ih,
                        left: ix,
                        top: iy
                    })
                }
            }

            function remap(value, in_max, out_max) {
                var in_min = 0,
                    out_min = 1;
                return (value - in_min) * (out_max - out_min) / (in_max - in_min) + out_min
            }
            var defaults = {
                    speed: .1,
                    ease: Power2.easeInOut,
                    scrollVal: null,
                    h: null,
                    x: null,
                    maxh: null,
                    alphaHl: null,
                    alphaImage: null,
                    alphaArr: null
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, checkSite(), $(window).bind("resize", checkSite), isTouch() ? centerPara() : $(window).bind("scroll", centerPara), $(".project-title, .inner-hl, #top-arr", $this).click(function() {
                        TweenMax.to(window, 10 * s.speed, {
                            scrollTo: {
                                y: s.maxh
                            },
                            ease: Power2.easeOut
                        })
                    })
                },
                checkSite = function() {
                    var wrapperW = $(".inner", $this).width();
                    if (s.h = .5 * $($this).find(".inner-hl").height(), s.x = .5 * (wrapperW - $($this).find(".inner-hl").width()), $(".arr-icon-wrapper.ref.back.in-project").length > 0) {
                        var docWidth = window.innerWidth;
                        if (s.maxh = .7 * $(window).height(), $(".top-section.fixed").css("height", "70vh"), docWidth > 860) $(".slideTxts", $this).width(.85 * $(window).width()), $(".slideTxts", $this).css({
                            "margin-left": $(".slideTxts", $this).width() * -.5
                        });
                        else {
                            $(".slideTxts", $this).width("auto"), $(".slideTxts", $this).css({
                                "margin-left": 0
                            });
                            var slideH = $(".slideTxts", $this).height();
                            $(".slideTxts", $this).css({
                                "margin-top": -(.5 * slideH)
                            })
                        }
                        var oSize = 80,
                            fontSize = parseInt($(".project-title h4").css("font-size")) + 5,
                            dif = oSize - fontSize,
                            f = oSize / fontSize,
                            h4 = fontSize,
                            h5 = $(".project-title", $this).find(".inner-bottom").find("h5").height();
                        docWidth > 860 ? (TweenMax.set($(".project-title .inner-top", $this), {
                            height: h4
                        }), TweenMax.set($(".project-title").find(".inner-top"), {
                            top: dif * f
                        }), TweenMax.set($(".project-title", $this).find(".inner-bottom"), {
                            height: h5
                        })) : (TweenMax.set($(".project-title .inner-top", $this), {
                            height: "auto"
                        }), TweenMax.set($(".project-title").find(".inner-top"), {
                            top: 0
                        }), TweenMax.set($(".project-title", $this).find(".inner-bottom"), {
                            height: "auto"
                        }));
                        var w = $("#line-wrapper", $this).width();
                        $(".slideTxts", $this).offset().top + h4 + 25;
                        TweenMax.set($("#line-wrapper", $this), {
                            marginLeft: .5 * -w
                        }), TweenMax.set($("section").eq(1), {
                            "margin-top": "70vh"
                        }), TweenMax.set($("section").eq(0), {
                            position: "fixed",
                            height: "70vh"
                        })
                    } else 3 != $(".menu-item.active").index("menu-item") ? (s.maxh = $(".top-section.fixed").height(), TweenMax.set($($this).find(".inner-hl"), {
                        "margin-top": -(s.h + .55 * s.scrollVal)
                    }), TweenMax.set($($this).find(".inner-hl"), {
                        left: s.x
                    })) : s.maxh = .9 * $(window).height();
                    Modernizr.touchevents || centerPara(), resizeImg()
                },
                centerPara = function(id) {
                    s.scrollVal = $(window).scrollTop(), s.alphaHl = remap(s.scrollVal, s.maxh, 0), s.alphaImage = remap(s.scrollVal, s.maxh, .5), s.alphaArr = remap(s.scrollVal, .65 * s.maxh, 0), $("#top-arr").length > 0 && (TweenMax.set($("#top-arr"), {
                        y: s.scrollVal * -.4,
                        opacity: s.alphaArr
                    }), TweenMax.set($(".inner", $this), {
                        y: -(.1 * s.scrollVal),
                        opacity: s.alphaHl
                    }), TweenMax.set($($this).find(".inner-hl"), {
                        y: s.scrollVal * -.6
                    })), $(".arr-icon-wrapper.ref.back.overview").length > 0 && (TweenMax.set($this, {
                        top: -(.1 * s.scrollVal),
                        opacity: s.alphaHl
                    }), TweenMax.set($(".arr-icon-wrapper.ref.back.in-project", $this), {
                        rotation: 90,
                        y: -(s.h + .55 * s.scrollVal)
                    }), TweenMax.set($(".slideTxts", $this), {
                        y: -(s.h + .55 * s.scrollVal),
                        opacity: s.alphaImage
                    })), $(".arr-icon-wrapper.ref.back.in-project").length > 0 && (TweenMax.set($this, {
                        top: -(.1 * s.scrollVal),
                        opacity: s.alphaHl
                    }), TweenMax.set($(".arr-icon-wrapper.ref.back.overview", $this), {
                        rotation: 90,
                        y: -(s.h + .55 * s.scrollVal)
                    }), TweenMax.set($(".slideTxts", $this), {
                        y: -(s.h + .55 * s.scrollVal),
                        opacity: s.alphaImage
                    }))
                };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                $(".project-title, .inner-hl, #top-arr", $this).unbind("click"), $(window).unbind("resize", checkSite), $(window).unbind("scroll", centerPara)
            }
        }
    }(jQuery),
    function($) {
        $.portrait = function(el, options) {
            var defaults = {
                    playing: !1
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, $back, $front, ow, oh, cw, ch, offsetPercent, init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, $back = $(".back", $this), $front = $(".front", $this), cw = 460, ch = 250, ow = 550, oh = 299, $(window).resize(function(e) {
                        resize()
                    }), resize();
                    var fixStr = {
                        z: .1,
                        rotationZ: .01,
                        force3D: !0
                    };
                    TweenMax.set([$back, $front], fixStr), isTouch() || ($this.mouseenter(function(e) {
                        TweenMax.to($front, 2, {
                            scale: 1.03,
                            ease: Power2.easeOut
                        }), TweenMax.to($back, 2, {
                            scale: .9,
                            ease: Power2.easeOut
                        })
                    }), $this.mouseleave(function(e) {
                        TweenMax.to($front, .4, {
                            scale: 1,
                            ease: Power2.easeOut
                        }), TweenMax.to($back, .4, {
                            scale: 1,
                            ease: Power2.easeOut
                        })
                    }))
                },
                resize = function() {
                    var parentW = $this.parent().width(),
                        parentH = parentW / cw * ch,
                        scaleF = $this.parent().width() / cw,
                        imgW = scaleF * ow,
                        imgH = scaleF * oh;
                    $this.css({
                        width: parentW,
                        height: parentH
                    }), $("img", $this).each(function(i) {
                        $(this).css({
                            width: imgW,
                            height: imgH,
                            left: .5 * (parentW - imgW),
                            top: .5 * (parentH - imgH)
                        })
                    })
                };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                s.playing = !1, offsetPercent = null, $(window).unbind("resize", resize), $this.unbind("mouseleave, mouseenter")
            }
        }
    }(jQuery),
    function($) {
        $.preloader = function(el, options) {
            function initLoadCompleteHandler(event, _initLoadComplete, _initOverlayComplete) {
                if (_initLoadComplete && (initLoadComplete = _initLoadComplete), _initOverlayComplete && (initOverlayComplete = _initOverlayComplete), initLoadComplete && initOverlayComplete) {
                    var cclass = $("#cont").attr("class").split(" ");
                    getPosInContentArr(cclass[0]);
                    contentController.initContent(cclass[0]), plugin.fadeOut(), plugin.closeOverlayOnInit(), $("#preloader-wrapper").remove(), $("#cnvy").addClass("preload-done"), $(window).unbind("initLoadComplete", initLoadCompleteHandler), $("#preloader-overlay-wrapper").append(s.defPreloadHtml)
                }
            }
            var defaults = {
                    loaderTL: null,
                    initialPreloadHtml: '<div id="preloader-wrapper"><svg id="preloader-svg" height="100" width="100"><circle id="preloader-circle" cx="50" cy="50" r="42" stroke="#000" stroke-width="3" fill="none" stroke-linecap="round" /><circle id="preloader-circle-bg" cx="50" cy="50" r="42" stroke="#000" stroke-width="3" fill="none" /></svg> <!-- end #preloader-wrapper --></div><div id="preloader-overlay-wrapper-init" class="green"><svg id="preloader-overlay-init" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 100 100" preserveAspectRatio="none"><polyline id="preloader-green-rect-init" points="0,0 100,0 100,100 0,100 "/> </svg></div>',
                    defPreloadHtml: '<svg id="preloader-svg" height="100" width="100"><circle id="preloader-circle" cx="50" cy="50" r="42" stroke="#000" stroke-width="3" fill="none" stroke-linecap="round" /><circle id="preloader-circle-bg" cx="50" cy="50" r="42" stroke="#000" stroke-width="3" fill="none" /></svg>'
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, init = function() {
                plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el
            };
            plugin.initFirstPreload = function() {
                $("body").append(s.initialPreloadHtml), $(window).bind("initLoadComplete", initLoadCompleteHandler), plugin.openOverlayOnFirstLoad()
            }, plugin.pageChangePreload = function() {
                0 == $("#preloader-svg").length ? $("#preloader-overlay-wrapper").append(s.defPreloadHtml) : $("#preloader-svg").prependTo("#preloader-overlay-wrapper"), plugin.fadeIn()
            }, plugin.openOverlayOnFirstLoad = function() {
                var fadeSpeed = 1;
                TweenMax.set($("#preloader-overlay-wrapper-init"), {
                    opacity: 1,
                    display: "block",
                    left: 0
                }), TweenMax.fromTo($("#preloader-green-rect-init"), 1.35 * fadeSpeed, {
                    attr: {
                        points: "0,0 100,0 75,100 0,100 "
                    }
                }, {
                    attr: {
                        points: "0,0 100,0 100,100 0,100 "
                    },
                    ease: Power2.easeInOut
                }), TweenMax.fromTo($("#preloader-overlay-wrapper-init"), 1.35 * fadeSpeed, {
                    left: "-100%",
                    display: "none"
                }, {
                    left: "0%",
                    display: "block",
                    ease: Power2.easeInOut,
                    onComplete: function() {
                        $(window).trigger("initLoadComplete", [!1, !0]), plugin.fadeIn()
                    }
                })
            }, plugin.closeOverlayOnInit = function() {
                var fadeSpeed = 1;
                setTimeout(function() {
                    TweenMax.to($("#preloader-overlay-wrapper-init"), 1.35 * fadeSpeed, {
                        left: "110%",
                        ease: Power2.easeInOut,
                        delay: .5 * fadeSpeed
                    }), TweenMax.to($("#preloader-green-rect-init"), 1.35 * fadeSpeed, {
                        attr: {
                            points: "0,0 100,0 100,100 50,100 "
                        },
                        ease: Power2.easeInOut,
                        onComplete: function() {
                            $("#preloader-overlay-wrapper-init").remove()
                        }
                    })
                }, 250)
            }, plugin.referenceFadeIn = function() {
                $("#preloader-svg").prependTo("#referenzenSlider"), plugin.fadeIn()
            }, plugin.fadeIn = function() {
                $("#preloader-svg").show().css("opacity", 0), TweenMax.to($("#preloader-svg"), .6, {
                    opacity: 1,
                    ease: Power2.easeInOut
                }), loaderTL = new TimelineMax({
                    repeat: -1
                }), fill_path = $("#preloader-circle"), fill_duration = 1.5, fill_position = "-=0", loaderTL.fromTo(fill_path, fill_duration, {
                    drawSVG: "0% 0%"
                }, {
                    drawSVG: "0% 100%",
                    ease: Linear.easeNone
                }, fill_position).to(fill_path, fill_duration, {
                    drawSVG: "100% 100%",
                    ease: Linear.easeNone
                }, fill_position), TweenMax.fromTo("#preloader-svg", 2.5, {
                    rotation: 0
                }, {
                    rotation: 360,
                    repeat: -1,
                    ease: Linear.easeNone
                })
            }, plugin.fadeOut = function() {
                TweenMax.to($("#preloader-svg"), .6, {
                    opacity: 0,
                    ease: Power2.easeInOut,
                    onComplete: plugin.resetTweens
                })
            }, plugin.fadeOutGreen = function() {
                TweenMax.to($("#preloader-wrapper"), .1, {
                    opacity: 0,
                    ease: Power2.easeInOut,
                    onComplete: plugin.removeGreenBg
                })
            }, plugin.removeGreenBg = function() {
                $("#preloader-wrapper").remove()
            }, plugin.resetTweens = function() {
                loaderTL.pause(0, !0), loaderTL = null, TweenMax.killTweensOf("#preloader-svg"), TweenMax.killTweensOf("#preloader-circle")
            }, plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                resetTweens()
            }
        }
    }(jQuery),
    function($) {
        $.refBackArr = function(el, options) {
            function mEnter() {
                s.playing || (s.playing = !0, s.stop = !0, hoverTL.restart())
            }

            function mOut() {
                s.stop = !0
            }

            function triScale(element, tl, speed, endPoints, ease) {
                var ease = ease,
                    startPoints = [],
                    endPoints = endPoints;
                startPoints = $(element).attr("points"), startPoints = startPoints.split(/[\s,]+/);
                for (var i = 0; i < startPoints.length; i++) startPoints[i] = parseFloat(startPoints[i]);
                var propStr = endPoints.join(" "),
                    nth = 0;
                propStr = propStr.replace(/ /g, function(match, i, original) {
                    return nth++, nth % 2 == 1 ? "," : match
                }), tl.clear(), tl.to(element, s.speed, {
                    attr: {
                        points: propStr
                    },
                    ease: ease
                })
            }

            function stopOrNot() {
                s.playing = !1, s.stop ? hoverTL.pause() : hoverTL.restart()
            }

            function buildTriSmall() {
                s.playing && triScale($tri, transPointTL[0], .5 * s.speed, [10, 51, 10, 60, 10, 51], Power1.easeInOut)
            }

            function buildTriSmall2() {
                s.playing && triScale($tri, transPointTL[2], .5 * s.speed, [3, 51, 10, 60, 17, 51], Power2.easeOut)
            }

            function buildTriBig() {
                s.playing && triScale($tri, transPointTL[1], s.speed, [1, 51, 10, 60, 19, 51], Power2.easeIn)
            }
            var defaults = {
                    playing: !1,
                    speed: .3,
                    stop: !1
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, $line, $tri, hoverTL, lineHideTL, yTransTri, yTransTriTop1, yTransTriTop2, lineShowTL1, lineShowTL2, fixStr, transPointTL = [],
                transXYTL = [],
                init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, lineShowTL2 = null, transPointTL[0], transPointTL[1], transPointTL[2] = null, $line = null, transXYTL = [], $tri = $(".arr-tri", $this), $line = $(".arr-line", $this), transPointTL[0] = new TimelineMax({}), transPointTL[1] = new TimelineMax({}), transPointTL[2] = new TimelineMax({}), Modernizr.touchevents || ($this.bind("mouseenter", mEnter), $this.bind("mouseleave", mOut)), fixStr = {
                        z: .1,
                        rotationZ: .01,
                        force3D: !0
                    }, lineHideTL = new TimelineMax({}), lineHideTL.fromTo($line, 1.25 * s.speed, {
                        drawSVG: "0% 100%"
                    }, {
                        drawSVG: "100% 100%",
                        ease: Power1.easeInOut
                    }, 0), lineShowTL1 = new TimelineMax({}), lineShowTL1.fromTo($line, 1.25 * s.speed, {
                        drawSVG: "0% 0%"
                    }, {
                        drawSVG: "0% 30%",
                        immediateRender: !1,
                        ease: Power1.easeInOut
                    }, 0), lineShowTL2 = new TimelineMax({}), lineShowTL2.to($line, 1.25 * s.speed, {
                        drawSVG: "0% 100%",
                        ease: Power1.easeInOut
                    }, 0), yTransTri = new TimelineMax({}), yTransTri.fromTo($tri, s.speed, {
                        y: 0
                    }, {
                        y: 15,
                        immediateRender: !1,
                        ease: Power1.easeInOut
                    }, 0), yTransTriTop1 = new TimelineMax({}), yTransTriTop1.fromTo($tri, 1.25 * s.speed, {
                        y: -65
                    }, {
                        y: -40,
                        immediateRender: !1,
                        ease: Power1.easeInOut
                    }, 0), yTransTriTop2 = new TimelineMax({}), yTransTriTop2.to($tri, 1.25 * s.speed, {
                        y: 0,
                        ease: Power1.easeInOut
                    }, 0), hoverTL = new TimelineMax({
                        paused: !0,
                        onComplete: stopOrNot
                    }), hoverTL.add(lineHideTL, 0).addCallback(buildTriSmall, "-=0.2").add(transPointTL[0], "-=0.2").add(yTransTri, "-=.15").add(yTransTriTop1, "-=0").add(lineShowTL1, "-=" + 1.25 * s.speed).addCallback(buildTriBig, "-=" + 1.25 * s.speed).add(transPointTL[1], "-=" + 1.25 * s.speed).add(yTransTriTop2, "-=" + s.speed).add(lineShowTL2, "-=" + 1.25 * s.speed).addCallback(buildTriSmall2, "-=" + s.speed).add(transPointTL[2], "-=" + s.speed)
                };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                s.playing = !1, $this.unbind("mouseenter", mEnter), $this.unbind("mouseleave", mOut), $this.unbind("click", mEnter)
            }
        }
    }(jQuery),
    function($) {
        $.refSlideshow = function(el, options) {
            var defaults = {
                    activeId: 0,
                    numImg: 0,
                    fadeDelay: 6e3,
                    fadeSpeed: .8,
                    paddingBottom: 100,
                    firstEnter: !0,
                    zIndex: 0,
                    swipe: !1,
                    hasTxt: !1
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, $this.hasClass("swipe") && (s.swipe = !0), s.numImg = $("img", $this).length, $("img", $this).removeClass(), $("img", $this).eq(s.activeId).addClass("active oldActive").css({
                        "z-index": "1",
                        opacity: "1"
                    }), $(".txt-wrapper p", $this).eq(s.activeId).addClass("active"), $(".txt-wrapper", $this).length > 0 && (s.hasTxt = !0), $(window).resize(function(e) {
                        resize()
                    }), buildControls(), resize(), $(".ref-item", $this).removeClass(".active"), $(".ref-item", $this).eq(s.activeId).addClass("active"), $(".ref-item.active", $this).find(".indicator").css("left", "0%"), isTouch() ? ($(".img-wrapper", $this).bind("swiperight", function(e) {
                        e.preventDefault(), fadePrev()
                    }), $(".img-wrapper", $this).bind("swipeleft", function(e) {
                        e.preventDefault(), fadeNext()
                    })) : ($(".img-wrapper", $this).bind("mouseenter", bindFollow), $(".img-wrapper", $this).bind("mouseleave", unbindFollow), $(".clickpanel.left", $this).bind("mouseenter", prevArr), $(".clickpanel.right", $this).bind("mouseenter", nextArr), $(".clickpanel.right", $this).bind("click", fadeNext), $(".clickpanel.left", $this).bind("click", fadePrev), $(window).bind(" blur", unbindFollow)), $(window).load(resize), $(".ref-item", $this).click(function() {
                        showImg($(".ref-item", $this).index($(this)))
                    })
                },
                fadeNext = function() {
                    s.zIndex++, TweenMax.killTweensOf($("img.active", $this), $(".ref-item.active", $this).find(".indicator"), $(".ref-item.oldActive", $this).find(".indicator")), $("img.active", $this).removeClass("active").addClass("oldActive"), $(".ref-item.active", $this).removeClass("active").addClass("oldActive"), s.activeId < s.numImg - 1 ? s.activeId++ : s.activeId = 0, $(".ref-item", $this).eq(s.activeId).addClass("active"), $(".ref-item.active", $this).find(".indicator").css("left", "-105%"), TweenMax.to($(".ref-item.oldActive", $this).find(".indicator"), .5 * s.fadeSpeed, {
                        left: "105%",
                        ease: Quad.easeInOut
                    }), TweenMax.to($(".ref-item.active", $this).find(".indicator"), .5 * s.fadeSpeed, {
                        left: "0%",
                        ease: Quad.easeInOut,
                        onComplete: function() {
                            $(".ref-item.oldActive", $this).removeClass("oldActive")
                        }
                    }), $("img", $this).eq(s.activeId).addClass("active").css("opacity", 0).css("z-index", s.zIndex), TweenMax.to($("img.active", $this), s.fadeSpeed, {
                        opacity: 1,
                        ease: Quad.easeInOut,
                        onComplete: function() {
                            $("img.oldActive", $this).removeClass()
                        }
                    }), s.hasTxt && (TweenMax.to($(".txt-wrapper p.active", $this), s.fadeSpeed, {
                        opacity: 0,
                        ease: Quad.easeInOut,
                        onComplete: function() {}
                    }), $(".txt-wrapper p.active", $this).removeClass("active").show(), $(".txt-wrapper p", $this).eq(s.activeId).addClass("active").css("opacity", 0), TweenMax.to($(".txt-wrapper p.active", $this), s.fadeSpeed, {
                        opacity: 1,
                        ease: Quad.easeInOut,
                        onComplete: function() {}
                    }))
                },
                fadePrev = function() {
                    s.zIndex++, TweenMax.killTweensOf($("img.active", $this), $(".ref-item.active", $this).find(".indicator"), $(".ref-item.oldActive", $this).find(".indicator")), $("img.active", $this).removeClass("active").addClass("oldActive"), $(".ref-item.active", $this).removeClass("active").addClass("oldActive"), s.activeId > 0 ? s.activeId-- : s.activeId = s.numImg - 1, $(".ref-item", $this).eq(s.activeId).addClass("active"), $(".ref-item.active", $this).find(".indicator").css("left", "105%"), TweenMax.to($(".ref-item.oldActive", $this).find(".indicator"), .5 * s.fadeSpeed, {
                        left: "-105%",
                        ease: Quad.easeInOut
                    }), TweenMax.to($(".ref-item.active", $this).find(".indicator"), .5 * s.fadeSpeed, {
                        left: "0%",
                        ease: Quad.easeInOut,
                        onComplete: function() {
                            $(".ref-item.oldActive", $this).removeClass("oldActive")
                        }
                    }), $("img", $this).eq(s.activeId).addClass("active").css("opacity", 0).css("z-index", s.zIndex), TweenMax.to($("img.active", $this), s.fadeSpeed, {
                        opacity: 1,
                        ease: Quad.easeInOut,
                        onComplete: function() {
                            $("img.oldActive", $this).removeClass()
                        }
                    }), s.hasTxt && (TweenMax.to($(".txt-wrapper p.active", $this), s.fadeSpeed, {
                        opacity: 0,
                        ease: Quad.easeInOut,
                        onComplete: function() {}
                    }), $(".txt-wrapper p.active", $this).removeClass("active").show(), $(".txt-wrapper p", $this).eq(s.activeId).addClass("active").css("opacity", 0), TweenMax.to($(".txt-wrapper p.active", $this), s.fadeSpeed, {
                        opacity: 1,
                        ease: Quad.easeInOut,
                        onComplete: function() {}
                    }))
                },
                resize = function() {
                    var h = 0;
                    s.hasTxt && ($(".txt-wrapper p", $this).each(function(i) {
                        h = $(this).height() > h ? $(this).height() : h
                    }), h += parseInt($(".txt-wrapper", $this).css("margin-top")), $(".txt-wrapper", $this).height(h));
                    var imgH = ($("img", $this).eq(0).width(), $("img", $this).eq(0).height());
                    $(window).width() - .1 * $(window).width();
                    $this.css({
                        height: imgH + s.paddingBottom + h
                    }), $(".clickpanel", $this).css("height", imgH), $(".img-wrapper", $this).css("height", imgH);
                    var pagerW = $(".ref-pager", $this).eq(0).width();
                    $(".ref-pager", $this).css("margin-left", -pagerW / 2)
                },
                buildControls = function() {
                    $(".img-wrapper", $this).append("<div class='clickpanel left'></div>"), $(".img-wrapper", $this).append("<div class='clickpanel right'></div>"), $this.append("<ul class='ref-pager'></ul>");
                    for (var i = 0; i < s.numImg; i++) $(".ref-pager", $this).append("<li class='ref-item'></li>");
                    $(".ref-item", $this).each(function(i) {
                        $(".ref-item", $this).eq(i).append("<span class='mask'></span>")
                    }), $(".mask", $this).each(function(i) {
                        $(".mask", $this).eq(i).append("<span class='indicator'></span>")
                    }), $(".ref-item", $this).eq(0).addClass("active")
                },
                showImg = function(id) {
                    if (id != s.activeId) {
                        s.zIndex++, TweenMax.killTweensOf($("img.active", $this), $(".ref-item.active", $this).find(".indicator"), $(".ref-item.oldActive", $this).find(".indicator")), $(".ref-item.active", $this).removeClass("active").addClass("oldActive");
                        var checkId = s.activeId;
                        s.activeId = id;
                        var newCheckId = s.activeId;
                        newCheckId > checkId ? ($(".ref-item", $this).eq(s.activeId).addClass("active"), $(".ref-item.active", $this).find(".indicator").css("left", "-105%"), TweenMax.to($(".ref-item.oldActive", $this).find(".indicator"), .5 * s.fadeSpeed, {
                            left: "105%",
                            ease: Quad.easeInOut
                        }), TweenMax.to($(".ref-item.active", $this).find(".indicator"), .5 * s.fadeSpeed, {
                            left: "0%",
                            ease: Quad.easeInOut,
                            onComplete: function() {
                                $(".ref-item.oldActive", $this).removeClass("oldActive")
                            }
                        })) : ($(".ref-item", $this).eq(s.activeId).addClass("active"), $(".ref-item.active", $this).find(".indicator").css("left", "105%"), TweenMax.to($(".ref-item.oldActive", $this).find(".indicator"), .5 * s.fadeSpeed, {
                            left: "-105%",
                            ease: Quad.easeInOut
                        }), TweenMax.to($(".ref-item.active", $this).find(".indicator"), .5 * s.fadeSpeed, {
                            left: "0%",
                            ease: Quad.easeInOut,
                            onComplete: function() {
                                $(".ref-item.oldActive", $this).removeClass("oldActive")
                            }
                        })), $("img", $this).eq(s.activeId).addClass("active").css("opacity", 0).css("z-index", s.zIndex), $(".ref-item", $this).eq(s.activeId).addClass("active"), TweenMax.to($("img.active", $this), s.fadeSpeed, {
                            opacity: 1,
                            ease: Quad.easeInOut,
                            onComplete: function() {
                                $("img.oldActive", $this).removeClass()
                            }
                        })
                    }
                },
                mouseFollow = function(event) {
                    $(".cursor-wrapper").css({
                        left: event.pageX - $(".img-wrapper", $this).offset().left,
                        top: event.pageY - $(".img-wrapper", $this).offset().top
                    })
                },
                nextArr = function() {
                    s.firstEnter ? (s.firstEnter = !1, TweenMax.set($(".polyline", $this), {
                        attr: {
                            points: "4,4 24,20 4,36"
                        }
                    })) : TweenMax.to($(".polyline", $this), .2, {
                        attr: {
                            points: "4,4 24,20 4,36"
                        },
                        ease: Power1.easeInOut
                    })
                },
                prevArr = function() {
                    s.firstEnter ? (s.firstEnter = !1, TweenMax.set($(".polyline", $this), {
                        attr: {
                            points: "24,4 4,20 24,36"
                        }
                    })) : TweenMax.to($(".polyline", $this), .2, {
                        attr: {
                            points: "24,4 4,20 24,36"
                        },
                        ease: Power1.easeInOut
                    })
                },
                bindFollow = function() {
                    $($this).bind("mousemove", mouseFollow), TweenMax.set($(".cursor-wrapper", $this), {
                        display: "block",
                        opacity: 1
                    })
                },
                unbindFollow = function() {
                    $($this).unbind("mousemove", mouseFollow), TweenMax.set($(".cursor-wrapper", $this), {
                        display: "none",
                        opacity: 0
                    })
                };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                s.numImg = 0, $("img", $this).removeClass(), $(window).unbind("resize", resize), $(".ref-item", $this).unbind("click"), $(".clickpanel.right", $this).unbind("click", fadeNext), $(".clickpanel.left", $this).unbind("click", fadePrev), $(".img-wrapper", $this).unbind("mouseenter", bindFollow), $(".img-wrapper", $this).unbind("mouseleave", unbindFollow), $(".clickpanel.left", $this).unbind("mouseenter", prevArr), $(".clickpanel.right", $this).unbind("mouseenter", nextArr), $(".img-wrapper", $this).bind("swiperight"), $(".img-wrapper", $this).bind("swipeleft")
            }
        }
    }(jQuery),
    function($) {
        $.referenzIcon = function(el, options) {
            var defaults = {
                    speed: .3,
                    val: 2
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, isTouch() || ($($this).bind("mouseenter", stretchIcon), $($this).bind("mouseleave", unstretchIcon))
                },
                stretchIcon = function() {
                    TweenMax.to($(".rect", $this).eq(0), s.speed, {
                        x: -s.val,
                        y: -s.val,
                        ease: Power2.easeInOut
                    }), TweenMax.to($(".rect", $this).eq(1), s.speed, {
                        x: 0,
                        y: -s.val,
                        ease: Power2.easeInOut
                    }), TweenMax.to($(".rect", $this).eq(2), s.speed, {
                        x: s.val,
                        y: -s.val,
                        ease: Power2.easeInOut
                    }), TweenMax.to($(".rect", $this).eq(3), s.speed, {
                        x: -s.val,
                        y: s.val,
                        ease: Power2.easeInOut
                    }), TweenMax.to($(".rect", $this).eq(4), s.speed, {
                        x: 0,
                        y: s.val,
                        ease: Power2.easeInOut
                    }), TweenMax.to($(".rect", $this).eq(5), s.speed, {
                        x: s.val,
                        y: s.val,
                        ease: Power2.easeInOut
                    })
                },
                unstretchIcon = function() {
                    TweenMax.to($(".rect", $this).eq(0), s.speed, {
                        x: 0,
                        y: 0,
                        ease: Power2.easeInOut
                    }), TweenMax.to($(".rect", $this).eq(1), s.speed, {
                        x: 0,
                        y: 0,
                        ease: Power2.easeInOut
                    }), TweenMax.to($(".rect", $this).eq(2), s.speed, {
                        x: 0,
                        y: 0,
                        ease: Power2.easeInOut
                    }), TweenMax.to($(".rect", $this).eq(3), s.speed, {
                        x: 0,
                        y: 0,
                        ease: Power2.easeInOut
                    }), TweenMax.to($(".rect", $this).eq(4), s.speed, {
                        x: 0,
                        y: 0,
                        ease: Power2.easeInOut
                    }), TweenMax.to($(".rect", $this).eq(5), s.speed, {
                        x: 0,
                        y: 0,
                        ease: Power2.easeInOut
                    })
                };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                $($this).bind("mouseenter", stretchIcon), $($this).bind("mouseleave", unstretchIcon)
            }
        }
    }(jQuery),
    function($) {
        $.referenzenOverviewSlider = function(el, options) {
            function checkBP() {
                window.innerWidth <= s.mobileBP && "desktop" === s.modus ? s.modus = "mobile" : window.innerWidth > s.mobileBP && "mobile" === s.modus && (s.modus = "desktop")
            }

            function backToOverview() {
                s.isClosingRef = !0, "desktop" == s.modus ? ($("#cont").removeClass("auto-height"), window.innerWidth >= s.mobileBP && $("#footer").hide(), TweenMax.to($("#referenzenSlider"), .6, {
                    height: "100vh",
                    ease: Power2.easeInOut,
                    onComplete: setHeightToVh,
                    onCompleteParams: ["100vh"]
                }), TweenMax.to($("#referenceCont"), .6, {
                    "margin-top": "100vh",
                    ease: Power2.easeInOut,
                    onComplete: triggerDeleteReferenceContent
                }), TweenMax.to($(".controls", $this), .4 * s.speed, {
                    opacity: 1,
                    delay: .4,
                    ease: Power2.easeInOut
                }), TweenMax.to($(".arr-icon-wrapper.back.ref.overview", $this), .4 * s.speed, {
                    opacity: 0,
                    display: "none",
                    ease: Power2.easeInOut
                }), $("#slideHitBox", $this).unbind("click", backToOverview), $("#slideHitBox", $this).bind("mouseenter", mouseOverTitle), $("#slideHitBox", $this).bind("mouseleave", mouseLeaveTitle), $(".arr-icon-wrapper.back.ref.overview", $this).unbind("click", backToOverview), $(".project-title.active").trigger("mouseleave")) : setHrefAndPopstates(s.backHref)
            }

            function fadeInReference() {
                convertVhToPx(10);
                TweenMax.to($("#referenzenSlider"), .6, {
                    height: "70vh",
                    ease: Power2.easeInOut
                }), TweenMax.to($("#referenceCont"), .6, {
                    "margin-top": "70vh",
                    ease: Power2.easeInOut,
                    onComplete: fadeInReferenceComplete,
                    onCompleteParams: ["70vh"]
                }), $(".arr-icon-wrapper.back.ref.overview", $this).bind("click", backToOverview)
            }

            function triggerDeleteReferenceContent() {
                $("#slideHitBox", $this).bind("click", clickProject), contentController.closeReferenceBackToOverview(s.backHref), $("#referenceCont").empty(), $(".arr-icon-wrapper.slider", $this).css({
                    top: $("#line-wrapper", $this).offset().top + 1
                }), fadeInArrows(), s.isClosingRef = !1
            }

            function fadeInReferenceComplete(val) {
                setHeightToVh(val), $(window).trigger("recalcOffsets")
            }

            function setHeightToVh(val) {
                $("#referenzenSlider").css({
                    height: val
                }), $("#referenceCont").css({
                    "margin-top": val
                })
            }

            function clickProject(e) {
                e.preventDefault();
                var currItem = $(".project-title.active", $this);
                $this.trigger("loadReference", [currItem.attr("href")]), s.showReference = !0, $("#slideHitBox", $this).unbind("click", clickProject), $("#slideHitBox", $this).bind("click", backToOverview), $("#slideHitBox", $this).unbind("mouseenter", mouseOverTitle), $("#slideHitBox", $this).unbind("mouseleave", mouseLeaveTitle), TweenMax.to($(".controls", $this), .4 * s.speed, {
                    opacity: 0,
                    ease: Power2.easeInOut
                }), TweenMax.to($(".arr-icon-wrapper.back.ref.overview", $this), .8 * s.speed, {
                    opacity: 1,
                    display: "block",
                    delay: .4,
                    ease: Power2.easeInOut
                }), $this.addClass("fixed"), fadeOutArrows()
            }

            function mouseOverTitle(e) {
                var currItem = $(".project-title.active", $this);
                s.sliding || (TweenMax.to($(".project-name.active", currItem), .6 * s.speed, {
                    y: s.upperTxtOffset,
                    ease: Power3.easeInOut,
                    delay: 0
                }), TweenMax.to($(".project-name:not(.active)", currItem), .6 * s.speed, {
                    y: 0,
                    ease: Power3.easeInOut,
                    delay: 0
                }), TweenMax.to($(".tags.active", currItem), .6 * s.speed, {
                    y: -s.lowerTxtOffset,
                    ease: Power2.easeInOut,
                    delay: 0
                }), TweenMax.to($(".tags:not(.active)", currItem), .6 * s.speed, {
                    y: 0,
                    ease: Power2.easeInOut,
                    delay: 0
                }), fadeOutArrows())
            }

            function mouseLeaveTitle(e) {
                var currItem = $(".project-title.active", $this);
                s.sliding || (TweenMax.to($(".project-name.active", currItem), .6 * s.speed, {
                    y: 0,
                    ease: Power3.easeInOut,
                    delay: 0
                }), TweenMax.to($(".project-name:not(.active)", currItem), .6 * s.speed, {
                    y: -s.upperTxtOffset,
                    ease: Power3.easeInOut,
                    delay: 0
                }), TweenMax.to($(".tags.active", currItem), .6 * s.speed, {
                    y: 0,
                    ease: Power2.easeInOut,
                    delay: 0
                }), TweenMax.to($(".tags:not(.active)", currItem), .6 * s.speed, {
                    y: s.lowerTxtOffset,
                    ease: Power2.easeInOut,
                    delay: 0
                }), s.isClosingRef || fadeInArrows())
            }

            function fadeOutArrows() {
                TweenMax.to($(".arr-icon-wrapper.slider.left", $this), .4 * s.speed, {
                    x: -20,
                    opacity: 0,
                    ease: Power2.easeInOut,
                    delay: 0
                }), TweenMax.to($(".arr-icon-wrapper.slider.right", $this), .4 * s.speed, {
                    x: 20,
                    opacity: 0,
                    ease: Power2.easeInOut,
                    delay: 0
                })
            }

            function fadeInArrows() {
                TweenMax.to($(".arr-icon-wrapper.slider.left", $this), .2 * s.speed, {
                    x: 0,
                    opacity: 1,
                    ease: Power2.easeInOut,
                    delay: 0
                }), TweenMax.to($(".arr-icon-wrapper.slider.right", $this), .2 * s.speed, {
                    x: 0,
                    opacity: 1,
                    ease: Power2.easeInOut,
                    delay: 0
                })
            }

            function setProjectTitle() {
                $(".slideTxts", $this).width(.85 * $(window).width()), $(".slideTxts", $this).css({
                    "margin-left": $(".slideTxts", $this).width() * -.5
                });
                var oSize = 80,
                    fontSize = parseInt($(".project-title h4").css("font-size")) + 5,
                    dif = oSize - fontSize,
                    f = oSize / fontSize;
                TweenMax.set($(".project-title").find(".inner-top"), {
                    top: dif * f
                });
                var h4 = fontSize;
                TweenMax.set($(".project-title .inner-top", $this), {
                    height: h4
                });
                var h5 = $(".project-title.active", $this).find(".inner-bottom").find("h5").height();
                TweenMax.set($(".project-title", $this).find(".inner-bottom"), {
                    height: h5
                });
                var w = $("#line-wrapper", $this).width();
                $(".slideTxts", $this).offset().top + h4 + 25;
                TweenMax.set($("#line-wrapper", $this), {
                    marginLeft: .5 * -w
                }), $(".arr-icon-wrapper.slider", $this).css({
                    top: $("#line-wrapper", $this).offset().top + 1
                })
            }

            function updateSlide(dir) {
                s.sliding || (s.sliding = !0, "next" === dir ? s.activeId >= s.numSlides - 1 ? (s.oldId = s.activeId, s.activeId = 0, showSlide("next"), showTitle("next")) : (s.oldId = s.activeId, s.activeId++, showSlide("next"), showTitle("next")) : "prev" === dir && (s.activeId <= 0 ? (s.oldId = s.activeId, s.activeId = s.numSlides - 1, showSlide("prev"), showTitle("prev")) : (s.oldId = s.activeId, s.activeId--, showSlide("prev"), showTitle("prev"))))
            }

            function showSlide(dir) {
                $(".project-slide", $this).eq(s.activeId).hasClass("active") || (zoomOut(), $(".project-slide.active", $this).removeClass("active"), "next" === dir ? (lineSlide("next"), $(".project-slide", $this).eq(s.oldId).addClass("old"), TweenMax.fromTo($(".project-slide", $this).eq(s.oldId), .6 * s.speed, {
                    left: "0"
                }, {
                    left: "-50%",
                    ease: Power3.easeInOut,
                    delay: .1
                }), $(".project-slide").eq(s.activeId).addClass("active"), TweenMax.fromTo($(".project-slide", $this).eq(s.activeId), .8 * s.speed, {
                    left: "100%"
                }, {
                    left: 0,
                    ease: Circ.easeInOut,
                    onComplete: slide_reset
                })) : "prev" === dir && (lineSlide("prev"), $(".project-slide", $this).eq(s.oldId).addClass("old"), TweenMax.fromTo($(".project-slide", $this).eq(s.oldId), .6 * s.speed, {
                    left: "0"
                }, {
                    left: "50%",
                    ease: Power3.easeInOut,
                    delay: .1
                }), $(".project-slide", $this).eq(s.activeId).addClass("active"), TweenMax.fromTo($(".project-slide", $this).eq(s.activeId), .8 * s.speed, {
                    left: "-100%"
                }, {
                    left: 0,
                    ease: Circ.easeInOut,
                    onComplete: slide_reset
                })))
            }

            function lineSlide(dir) {
                $("#line-wrapper", $this).append("<div class='line'></div>"), "next" === dir ? (TweenMax.to($(".line", $this).eq(0), .8 * s.speed, {
                    x: "-100%",
                    ease: Power2.easeInOut
                }), TweenMax.fromTo($(".line", $this).eq(1), .8 * s.speed, {
                    x: "100%"
                }, {
                    x: "0%",
                    ease: Power2.easeInOut,
                    delay: .09,
                    onComplete: line_reset
                })) : "prev" === dir && (TweenMax.to($(".line", $this).eq(0), .8 * s.speed, {
                    x: "100%",
                    ease: Power2.easeInOut
                }), TweenMax.fromTo($(".line", $this).eq(1), .8 * s.speed, {
                    x: "-100%"
                }, {
                    x: "0%",
                    ease: Power2.easeInOut,
                    delay: .09,
                    onComplete: line_reset
                }))
            }

            function line_reset() {
                $(".line", $this).eq(0).empty().remove()
            }

            function slide_reset() {
                $(".project-slide.old", $this).removeClass("old"), isTouch() || zoomIn(), s.sliding = !1
            }

            function showTitle(dir) {
                if (!$(".project-title", $this).eq(s.activeId).hasClass("active")) {
                    var d1, d2;
                    "next" === dir ? (d1 = -1, d2 = 1) : "prev" === dir && (d1 = 1, d2 = -1), $(".project-title", $this).eq(s.oldId).addClass("old"), TweenMax.to($(".project-title", $this).eq(s.oldId).find(".project-name.active"), .6 * s.speed, {
                        y: d2 * s.upperTxtOffset,
                        ease: Power3.easeInOut,
                        delay: 0
                    }), TweenMax.to($(".project-title", $this).eq(s.oldId).find(".tags.active"), .6 * s.speed, {
                        y: d1 * s.lowerTxtOffset,
                        ease: Power2.easeInOut,
                        delay: 0
                    }), $(".project-title.active", $this).removeClass("active"), $(".project-title", $this).eq(s.activeId).addClass("active"), TweenMax.fromTo($(".project-title", $this).eq(s.activeId).find(".project-name.active"), .6 * s.speed, {
                        y: d1 * s.upperTxtOffset
                    }, {
                        y: 0,
                        ease: Power3.easeInOut,
                        delay: 0
                    }), TweenMax.fromTo($(".project-title", $this).eq(s.activeId).find(".tags.active"), .6 * s.speed, {
                        y: d2 * s.lowerTxtOffset
                    }, {
                        y: 0,
                        ease: Power2.easeInOut,
                        delay: 0,
                        onComplete: title_reset
                    })
                }
            }

            function title_reset() {
                $(".project-title.old", $this).removeClass("old"), $(".project-title.active", $this).removeClass("active"), $(".project-title", $this).eq(s.activeId).addClass("active")
            }

            function zoomIn() {
                var fixStr = {
                    z: .1,
                    rotationZ: .01,
                    force3D: !0
                };
                TweenMax.set([$(".project-slide", $this), $(".project-slide").find("img")], fixStr), TweenMax.to($(".project-slide", $this).eq(s.activeId).find("img"), 6, {
                    scale: 1.0751,
                    ease: Sine.easeOut
                })
            }

            function zoomOut() {
                var fixStr = {
                    z: .1,
                    rotationZ: .01,
                    force3D: !0
                };
                TweenMax.set([$(".project-slide", $this), $(".project-slide", $this).find("img")], fixStr), TweenMax.set($(".project-slide", $this).eq(s.activeId).find("img"), {
                    scale: 1
                })
            }

            function clickHandler(event) {
                var dir;
                $(this).hasClass("right") ? dir = "next" : $(this).hasClass("left") && (dir = "prev"), s.sliding || (updateSlide(dir), aniPagina(dir))
            }

            function aniPagina(dir) {
                var dy = "next" == dir ? 1 : -1;
                $(".controls p.curr-item", $this).addClass("old"), TweenMax.to($(".controls p.curr-item.old", $this), .6, {
                    top: 30 * dy,
                    ease: Power2.easeInOut
                }), $(".controls .curr-item-wrapper", $this).append("<p class='curr-item new'></p>"), $(".controls p.curr-item.new", $this).text(s.activeId + 1).css({
                    top: -30 * dy
                }), TweenMax.to($(".controls p.curr-item.new", $this), .6, {
                    top: 0,
                    ease: Power2.easeInOut,
                    onComplete: delPaginaDoubles
                }), $(".controls p.num-items", $this).text("/ " + s.numSlides)
            }

            function delPaginaDoubles() {
                $(".controls p.curr-item.old", $this).remove(), $(".controls p.curr-item.new", $this).removeClass("new")
            }

            function resizeImg() {
                var ix, iy, ih, iw, vw = $(window).width(),
                    vh = $(window).height(),
                    ow = 1680,
                    oh = 1050,
                    factorW = vw / ow,
                    factorH = vh / oh;
                factorH > factorW ? (iw = factorH * ow, ih = factorH * oh) : (iw = factorW * ow, ih = factorW * oh), ix = .5 * (vw - iw), iy = .5 * (vh - ih), $(".slide-img", $this).each(function(i) {
                    $(this).css({
                        width: iw,
                        height: ih,
                        left: ix,
                        top: iy
                    })
                })
            }
            var defaults = {
                    numSlides: null,
                    activeId: null,
                    oldId: null,
                    sliding: !1,
                    speed: .9,
                    upperTxtOffset: 90,
                    lowerTxtOffset: 20,
                    showReference: !1,
                    backHref: null,
                    isClosingRef: !1,
                    mobileBP: 700,
                    modus: null
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, init = function() {
                plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, s.numSlides = $(".project-slide", $this).length, $(".project-slide", $this).removeClass("active"), $(".project-title", $this).removeClass("active"), $(".project-slide", $this).eq(0).addClass("active"), $(".project-title", $this).eq(0).addClass("active"), s.activeId = $(".project-title.active", $this).index(".project-title"), $(".arr-icon-wrapper.slider", $this).bind("click", clickHandler), setProjectTitle(), setProjectTitle(), resizeImg(), isTouch() || zoomIn(), $(window).resize(function() {
                    setProjectTitle(), resizeImg()
                }), $(window).load(function() {
                    setProjectTitle(), resizeImg()
                }), $(".controls p.curr-item", $this).text(s.activeId + 1), $(".controls p.num-items", $this).text("/ " + s.numSlides), $(".arr-icon-wrapper.back.ref.overview", $this).hide(), $("a.project-title, .arr-icon-wrapper.back.ref.overview a", $this).click(function(e) {
                    e.preventDefault()
                }), s.backHref = $(".arr-icon-wrapper.back.ref.overview a", $this).attr("href"), $("#slideHitBox", $this).bind("click", clickProject), $("#slideHitBox", $this).bind("mouseenter", mouseOverTitle), $("#slideHitBox", $this).bind("mouseleave", mouseLeaveTitle), $(window).bind("fadeInReference", fadeInReference), window.innerWidth > s.mobileBP ? s.modus = "desktop" : s.modus = "mobile", $(window).bind("resize", checkBP)
            };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                s.numSlides = null, s.activeId = null, s.oldId = null, s.sliding = !1, s.speed = .9, $(".project-slide", $this).removeClass("active"), $(".arr-icon-wrapper.slider", $this).unbind("click", clickHandler), $("#slideHitBox", $this).unbind("click", clickProject), $("#slideHitBox", $this).unbind("mouseenter", mouseOverTitle), $("#slideHitBox", $this).unbind("mouseleave", mouseLeaveTitle), $(window).bind("resize", checkBP), $(".arr-icon-wrapper.back.ref.overview", $this).unbind("click", backToOverview)
            }
        }
    }(jQuery),
    function($) {
        $.referenzenOverviewSliderArr = function(el, options) {
            function mEnter() {
                s.playing || (s.playing = !0, s.stop = !0, hoverTL.restart())
            }

            function mOut() {
                s.stop = !0
            }

            function triScale(element, tl, speed, endPoints, ease) {
                var ease = ease,
                    startPoints = [],
                    endPoints = endPoints;
                startPoints = $(element).attr("points"), startPoints = startPoints.split(/[\s,]+/);
                for (var i = 0; i < startPoints.length; i++) startPoints[i] = parseFloat(startPoints[i]);
                var propStr = endPoints.join(" "),
                    nth = 0;
                propStr = propStr.replace(/ /g, function(match, i, original) {
                    return nth++, nth % 2 == 1 ? "," : match
                }), tl.clear(), tl.to(element, s.speed, {
                    attr: {
                        points: propStr
                    },
                    ease: ease
                })
            }

            function stopOrNot() {
                s.playing = !1, s.stop ? hoverTL.pause() : hoverTL.restart()
            }

            function buildTriSmall() {
                s.playing && triScale($tri, transPointTL[0], .5 * s.speed, [10, 56, 10, 65, 10, 56], Power1.easeInOut)
            }

            function buildTriSmall2() {
                s.playing && triScale($tri, transPointTL[2], .5 * s.speed, [3, 56, 10, 65, 17, 56], Power2.easeOut)
            }

            function buildTriBig() {
                s.playing && triScale($tri, transPointTL[1], s.speed, [1, 56, 10, 65, 19, 56], Power2.easeIn)
            }
            var defaults = {
                    playing: !1,
                    speed: .3,
                    stop: !1,
                    onSomeEvent: function() {}
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, $line, $tri, hoverTL, lineHideTL, yTransTri, yTransTriTop1, yTransTriTop2, lineShowTL1, lineShowTL2, fixStr, transPointTL = [],
                init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, $tri = $(".arr-tri", $this), $line = $(".arr-line", $this), transPointTL[0] = new TimelineMax({}), transPointTL[1] = new TimelineMax({}), transPointTL[2] = new TimelineMax({}), Modernizr.touchevents || ($this.bind("mouseenter", mEnter), $this.bind("mouseleave", mOut), $this.bind("click", mEnter)), fixStr = {
                        z: .1,
                        rotationZ: .01,
                        force3D: !0
                    }, lineHideTL = new TimelineMax({}), lineHideTL.to($line, 1.25 * s.speed, {
                        drawSVG: "100% 100%",
                        ease: Power1.easeInOut
                    }, 0), lineShowTL1 = new TimelineMax({}), lineShowTL1.fromTo($line, 1.25 * s.speed, {
                        drawSVG: "0% 0%"
                    }, {
                        drawSVG: "0% 30%",
                        immediateRender: !1,
                        ease: Power1.easeInOut
                    }, 0), lineShowTL2 = new TimelineMax({}), lineShowTL2.to($line, 1.25 * s.speed, {
                        drawSVG: "0% 100%",
                        ease: Power1.easeInOut
                    }, 0), yTransTri = new TimelineMax({}), yTransTri.fromTo($tri, s.speed, {
                        y: 0
                    }, {
                        y: 15,
                        immediateRender: !1,
                        ease: Power1.easeInOut
                    }, 0), yTransTriTop1 = new TimelineMax({}), yTransTriTop1.fromTo($tri, 1.25 * s.speed, {
                        y: -65
                    }, {
                        y: -40,
                        immediateRender: !1,
                        ease: Power1.easeInOut
                    }, 0), yTransTriTop2 = new TimelineMax({}), yTransTriTop2.to($tri, 1.25 * s.speed, {
                        y: 0,
                        ease: Power1.easeInOut
                    }, 0), hoverTL = new TimelineMax({
                        paused: !0,
                        onComplete: stopOrNot
                    }), hoverTL.add(lineHideTL, 0).addCallback(buildTriSmall, "-=0.2").add(transPointTL[0], "-=0.2").add(yTransTri, "-=.15").add(yTransTriTop1, "-=0").add(lineShowTL1, "-=" + 1.25 * s.speed).addCallback(buildTriBig, "-=" + 1.25 * s.speed).add(transPointTL[1], "-=" + 1.25 * s.speed).add(yTransTriTop2, "-=" + s.speed).add(lineShowTL2, "-=" + 1.25 * s.speed).addCallback(buildTriSmall2, "-=" + s.speed).add(transPointTL[2], "-=" + s.speed)
                };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                lineShowTL2 = null, transPointTL[0], transPointTL[1], transPointTL[2] = null, $line = null, $this.unbind("mouseenter", mEnter), $this.unbind("mouseleave", mOut), $this.unbind("click", mEnter)
            }
        }
    }(jQuery),
    function($) {
        $.teaserControl = function(el, options) {
            var defaults = {
                    speed: .75,
                    ease: Power2.easeInOut,
                    breakpoint: [1e3]
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, $(window).bind("resize", setMargins), setMargins()
                },
                setMargins = function() {
                    var f, vw = $(window).width(),
                        ow = 1680;
                    vw > s.breakpoint[0] ? (f = ow / vw, $(".img-frame.left.m-15").css({
                        "margin-left": -(.15 * ow * f)
                    }), $(".img-frame.left.m-35").css({
                        "margin-left": -(.35 * ow * f)
                    }), $(".img-frame.right.m-15").css({
                        "margin-right": -(.15 * ow * f)
                    })) : ($(".img-frame.left.m-15").attr("style", ""), $(".img-frame.left.m-35").attr("style", ""), $(".img-frame.right.m-15").attr("style", ""))
                };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                $(window).unbind("resize", setMargins)
            }
        }
    }(jQuery),
    function($) {
        $.wireframeSpritemap = function(el, options) {
            var defaults = {
                    speed: 40,
                    imgW: 680,
                    timeout: null,
                    curPos: 0,
                    maxPos: 0,
                    timeline: [],
                    isPlaying: !1,
                    timelines: {
                        slideshow: [2, .5, .1, .1, .1, 2, .5, .1, .1, .1, .1],
                        gallery: [.5, .5, .5, .5, .5, 2, .5, .1, .1, .1, 2, .5, .5, .5, .5, .5, .5, 2, .5, .1, .1, .1, 2, .5],
                        history: [.1, .1, .1, 2, .1, .1, .1, .1, 2, .1, .1]
                    }
                },
                plugin = this;
            plugin.settings = {};
            var s, $this, init = function() {
                    plugin.settings = $.extend({}, defaults, options), s = plugin.settings, plugin.el = el, $this = plugin.el, s.timeline = $this.hasClass("slideshow") ? s.timelines.slideshow : $this.hasClass("gallery") ? s.timelines.gallery : s.timelines.history, s.maxPos = s.timeline.length, isTouch() ? $this.bind("click", playSheetTouch) : $this.bind("mouseenter", playSheet), $(window).bind("resize", resize)
                },
                resize = function() {
                    $this.css("background-position", -$this.width() * s.curPos)
                },
                playSheet = function() {
                    $this.bind("mouseleave", stopSheet), nextStep()
                },
                playSheetTouch = function() {
                    s.isPlaying ? clearTimeout(s.timeout) : nextStep(), s.isPlaying = !s.isPlaying
                },
                stopSheet = function() {
                    clearTimeout(s.timeout)
                },
                nextStep = function() {
                    s.curPos < s.maxPos - 1 ? s.curPos++ : s.curPos = 0, $("img.active", $this).removeClass("active"), $("img", $this).eq(s.curPos).addClass("active"), s.timeout = setTimeout(nextStep, 1e3 * s.timeline[s.curPos])
                };
            plugin.initPlugin = function() {
                init()
            }, plugin.destroyPlugin = function() {
                isTouch() ? $this.unbind("click", playSheetTouch) : $this.unbind("mouseenter", playSheet), $(window).unbind("resize", resize), $this.unbind("mouseleave", stopSheet), clearTimeout(s.timeout)
            }
        }
    }(jQuery);
var browserPrefix = getBrowserPrefix(),
    tabHidden = hiddenProperty(browserPrefix),
    visibilityState = visibilityState(browserPrefix),
    visibilityEvent = visibilityEvent(browserPrefix),
    isTabHidden = !1;
document.addEventListener(visibilityEvent, function(event) {
    isTabHidden = document[tabHidden] ? !0 : !1
});
var isIE = detectIE();
